# Game Design Document (GDD) - Grenzwanderer

## üéÆ –û–±–∑–æ—Ä –∏–≥—Ä—ã

**Grenzwanderer** ‚Äî —ç—Ç–æ –ø–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Ç–∏—á–µ—Å–∫–∞—è location-based RPG, —Å–æ—á–µ—Ç–∞—é—â–∞—è –≤ —Å–µ–±–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∏–∑—É–∞–ª—å–Ω–æ–π –Ω–æ–≤–µ–ª–ª—ã, –∫–∞—Ä—Ç–æ—á–Ω—ã—Ö –±–æ—ë–≤ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞ —á–µ—Ä–µ–∑ QR-–∫–æ–¥—ã. –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ä–∞–∑—Ä—É—à–µ–Ω–Ω–æ–º –§—Ä–∞–π–±—É—Ä–≥–µ, –≥–¥–µ –∏–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–∂–∏–≤–∞—Ç—å, –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–≤–µ—Å—Ç—ã, —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Ä–µ–ø—É—Ç–∞—Ü–∏—é –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –º–æ—Ä–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Å—é–∂–µ—Ç.

## üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### **Core Technology Stack**

#### Frontend Architecture
- **React 19** + **TypeScript** + **Vite** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è SPA –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **Framer Motion** ‚Äî —Å–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∏–º–∞—Ü–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- **Zustand** ‚Äî –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å persistence
- **Tailwind CSS** ‚Äî —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- **Feature-Sliced Design (FSD)** ‚Äî –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤

#### Backend & Services
- **Convex** ‚Äî real-time –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- **Clerk** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **Mapbox GL** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π
- **XState** ‚Äî –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

#### PWA Technologies & Offline-First
```typescript
// Progressive Web App –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
interface PWAConfig {
  // Service Worker —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  caching: {
    gameAssets: 'CacheFirst',     // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ç—ã –∏–≥—Ä—ã
    mapData: 'NetworkFirst',      // –ö–∞—Ä—Ç—ã –∏ –ª–æ–∫–∞—Ü–∏–∏
    gameState: 'CacheOnly',       // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
    apiData: 'StaleWhileRevalidate' // –ö–≤–µ—Å—Ç—ã –∏ –∫–æ–Ω—Ç–µ–Ω—Ç
  }
  
  // –û—Ñ–ª–∞–π–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
  offline: {
    core: ['inventory', 'combat', 'dialogue'], // –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–µ—Ç–∏
    partial: ['map', 'quests'],                // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ –±–µ–∑ —Å–µ—Ç–∏
    online: ['multiplayer', 'leaderboards']   // –¢—Ä–µ–±—É–µ—Ç —Å–µ—Ç—å
  }
  
  // Background Sync
  backgroundSync: {
    questProgress: { retryInterval: 30000 },   // 30 —Å–µ–∫—É–Ω–¥
    locationUpdates: { retryInterval: 60000 }, // 1 –º–∏–Ω—É—Ç–∞
    inventoryChanges: { retryInterval: 10000 } // 10 —Å–µ–∫—É–Ω–¥
  }
}

// Offline Storage Strategy
interface OfflineStorage {
  // IndexedDB –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
  indexedDB: {
    gameContent: 'quest_data' | 'dialogue_trees' | 'card_templates',
    userProgress: 'save_states' | 'session_cache' | 'offline_actions',
    mapData: 'location_cache' | 'marker_data' | 'route_history'
  }
  
  // LocalStorage –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
  localStorage: {
    playerProfile: PlayerProfile,
    gameSettings: GameSettings,
    authTokens: AuthData,
    lastSyncTimestamp: number
  }
  
  // SessionStorage –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  sessionStorage: {
    currentSession: GameSession,
    uiState: UIState,
    tempProgress: TemporaryData
  }
}

// Push Notifications
interface NotificationSystem {
  // –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  types: {
    questComplete: { title: string, icon: string, vibrate: [200] },
    newLocation: { title: string, icon: string, actions: ['view', 'dismiss'] },
    raidExpired: { title: string, icon: string, urgency: 'high' },
    dailyReward: { title: string, icon: string, badge: number }
  }
  
  // –¢—Ä–∏–≥–≥–µ—Ä—ã
  triggers: {
    geofence: LocationTrigger[],    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
    timer: TimedTrigger[],          // –ü–æ –≤—Ä–µ–º–µ–Ω–∏
    event: EventTrigger[]           // –ü–æ –∏–≥—Ä–æ–≤—ã–º —Å–æ–±—ã—Ç–∏—è–º
  }
}
```

#### Advanced PWA Features
```typescript
// –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é
interface LocationServices {
  // –í—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã–π —Ç—Ä–µ–∫–∏–Ω–≥
  preciseTracking: {
    enableHighAccuracy: true,
    maximumAge: 10000,          // 10 —Å–µ–∫—É–Ω–¥ –∫–µ—à
    timeout: 15000,             // 15 —Å–µ–∫—É–Ω–¥ —Ç–∞–π–º–∞—É—Ç
    desiredAccuracy: 5          // 5 –º–µ—Ç—Ä–æ–≤ –∂–µ–ª–∞–µ–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
  }
  
  // Background Location (—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  backgroundLocation: {
    minDistance: 10,            // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    interval: 30000,            // 30 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
    fastestInterval: 15000,     // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
    locationTimeout: 10000      // –¢–∞–π–º–∞—É—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
  }
  
  // –ì–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥
  geofencing: {
    zones: GeofenceZone[],      // –ó–æ–Ω—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    sensitivity: 'balanced',    // 'high' | 'balanced' | 'low'
    persistentTracking: true    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤ —Ñ–æ–Ω–µ
  }
}

// Camera API –¥–ª—è QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
interface CameraFeatures {
  // QR Scanner –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  qrScanner: {
    preferredCamera: 'environment', // –ó–∞–¥–Ω—è—è –∫–∞–º–µ—Ä–∞
    scanArea: { width: 0.8, height: 0.6 }, // 80% x 60% —ç–∫—Ä–∞–Ω–∞
    formats: ['QR_CODE', 'DATA_MATRIX'],
    frameRate: 30,              // 30 FPS
    resolution: 'hd'            // HD –∫–∞—á–µ—Å—Ç–≤–æ
  }
  
  // AR –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–±—É–¥—É—â–µ–µ)
  arCapabilities: {
    motionSensors: boolean,     // –ê–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä/–≥–∏—Ä–æ—Å–∫–æ–ø
    depthSensing: boolean,      // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã
    lightEstimation: boolean,   // –û—Å–≤–µ—â–µ–Ω–∏–µ —Å—Ü–µ–Ω—ã
    planeDetection: boolean     // –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π
  }
}

// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
interface PerformanceOptimization {
  // Lazy Loading
  lazyLoading: {
    routes: 'dynamic',          // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
    components: 'intersection', // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏
    images: 'progressive',      // –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
    maps: 'viewport'            // –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏
  }
  
  // Code Splitting
  bundleStrategy: {
    vendor: 'separate',         // –û—Ç–¥–µ–ª—å–Ω—ã–π vendor bundle
    features: 'route-based',    // –ü–æ –º–∞—Ä—à—Ä—É—Ç–∞–º
    shared: 'common-chunks',    // –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    dynamic: 'on-demand'        // –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
  }
  
  // Memory Management
  memoryOptimization: {
    maxCacheSize: '50MB',       // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–µ—à
    gcInterval: 300000,         // –°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
    imageCompression: true,     // –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
    dataCleanup: 'session-end'  // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏
  }
}
```

#### Core Libraries
- **Lucide React** ‚Äî –∏–∫–æ–Ω–æ—á–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è UI
- **React Router DOM** ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- **React Error Boundary** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **@dnd-kit** ‚Äî drag & drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- **Workbox** ‚Äî PWA –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è Service Worker
- **IndexedDB** ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ö—Ä–∞–Ω–µ–Ω–∏—è

## üì¶ –ü–æ–ª–Ω—ã–π Technology Stack & Dependencies

### **üöÄ Core Framework (Production Dependencies)**
```json
{
  "react": "^19.1.1",                    // ‚öõÔ∏è UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
  "react-dom": "^19.1.1",               // ‚öõÔ∏è DOM —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
  "react-router-dom": "^7.8.0",         // üõ£Ô∏è –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
  "react-error-boundary": "^6.0.0"      // üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
}
```

### **üé® UI & Styling Libraries**
```json
{
  "framer-motion": "^12.23.22",         // üé¨ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã
  "lucide-react": "^0.544.0",           // üéØ –ò–∫–æ–Ω–æ—á–Ω—ã–π –Ω–∞–±–æ—Ä
  "@dnd-kit/core": "^6.3.1",            // üñ±Ô∏è Drag & Drop –æ—Å–Ω–æ–≤–∞
  "@dnd-kit/sortable": "^10.0.0"        // üìã –°–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ —Å–ø–∏—Å–∫–∏
}
```

### **üóÑÔ∏è Backend & Database**
```json
{
  "convex": "^1.25.4",                  // üíæ Real-time –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  "@clerk/clerk-react": "^5.42.1",      // üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  "svix": "^1.73.0"                     // üì° Webhooks –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
}
```

### **üéÆ Game Mechanics Libraries**
```json
{
  "zustand": "^5.0.7",                  // üß† State management
  "xstate": "^5.20.2",                  // ü§ñ State machines –¥–ª—è –∫–≤–µ—Å—Ç–æ–≤
  "mapbox-gl": "^3.14.0",              // üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã
  "fast-deep-equal": "^3.1.3"          // ‚ö° –ë—ã—Å—Ç—Ä–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
}
```

### **‚öôÔ∏è Development & Build Tools**
```json
{
  "vite": "^7.1.0",                     // ‚ö° Build tool –∏ dev server
  "typescript": "~5.8.3",               // üìù –¢–∏–ø–∏–∑–∞—Ü–∏—è
  "@vitejs/plugin-react": "^4.7.0",     // ‚öõÔ∏è React plugin –¥–ª—è Vite
  "concurrently": "^9.0.2"              // üîÑ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥
}
```

### **üß™ Testing & Quality**
```json
{
  "vitest": "^2.1.9",                   // üß™ Unit testing
  "@vitest/coverage-v8": "^2.1.9",      // üìä Code coverage
  "eslint": "^9.32.0",                  // üîç –õ–∏–Ω—Ç–µ—Ä –∫–æ–¥–∞
  "eslint-plugin-boundaries": "^5.0.1", // üöß FSD –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  "eslint-plugin-react-hooks": "^5.2.0", // ‚öõÔ∏è React hooks –ø—Ä–∞–≤–∏–ª–∞
  "typescript-eslint": "^8.39.0"        // üìù TypeScript ESLint
}
```

### **üé® Styling & CSS**
```json
{
  "tailwindcss": "^4.1.11",            // üé® Utility-first CSS
  "@tailwindcss/postcss": "^4.1.11"    // üîß PostCSS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
}
```

### **üì± PWA & Mobile (Planned for Phase 7)**
```json
{
  // –ë—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –§–∞–∑–µ 7
  "vite-plugin-pwa": "^0.20.x",        // üì± PWA plugin –¥–ª—è Vite
  "workbox-window": "^7.0.x",          // üîÑ Service Worker —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
  "@zxing/library": "^0.21.x"          // üì± QR –∫–æ–¥ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
}
```

### **üåç Geolocation & Maps (Expanding in Phase 5)**
```json
{
  // –¢–µ–∫—É—â–µ–µ
  "mapbox-gl": "^3.14.0",              // üó∫Ô∏è –ö–∞—Ä—Ç—ã (—É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
  
  // –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
  "turf": "^7.0.x",                    // üåç –ì–µ–æ—Å–ø–∞—Ü–∏–∞–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
  "geohash": "^0.2.x",                 // üìç –ì–µ–æ—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
  "h3-js": "^4.1.x"                    // üî∑ Hexagonal hierarchical geospatial indexing
}
```

### **üéØ Game-Specific Libraries (Future Phases)**
```json
{
  // –§–∞–∑–∞ 8: Advanced Features
  "socket.io-client": "^4.7.x",        // üîó Real-time multiplayer
  "three": "^0.160.x",                 // üéÆ 3D graphics –¥–ª—è AR
  "@react-three/fiber": "^8.15.x",     // ‚öõÔ∏è React + Three.js
  
  // –§–∞–∑–∞ 6: Enhanced QR
  "@capacitor/camera": "^6.0.x",       // üì∑ Native camera access
  "@capacitor/geolocation": "^6.0.x",  // üìç Native geolocation
  
  // –§–∞–∑–∞ 7: PWA Advanced
  "idb": "^8.0.x",                     // üíæ IndexedDB wrapper
  "comlink": "^4.4.x"                  // üîó Web Worker communication
}
```

## üõ†Ô∏è **Development Environment Requirements**

### **System Requirements**
```bash
Node.js: >= 20.x.x
npm: >= 10.x.x
Git: >= 2.34.x
```

### **IDE & Extensions (Recommended)**
```json
{
  "vscode_extensions": [
    "bradlc.vscode-tailwindcss",        // üé® Tailwind CSS IntelliSense
    "ms-vscode.vscode-typescript-next", // üìù TypeScript support
    "dbaeumer.vscode-eslint",           // üîç ESLint integration
    "esbenp.prettier-vscode",           // üíÖ Code formatting
    "ms-vscode.vscode-json",            // üìÑ JSON support
    "formulahendry.auto-rename-tag",    // üè∑Ô∏è Auto rename paired tags
    "christian-kohler.path-intellisense" // üìÅ Path autocomplete
  ]
}
```

### **Environment Variables (.env.local)**
```bash
# Core Services
VITE_CONVEX_URL=                      # üíæ Convex backend URL
VITE_CLERK_PUBLISHABLE_KEY=           # üîê Clerk authentication

# External APIs
VITE_MAPBOX_TOKEN=                    # üó∫Ô∏è Mapbox access token

# Development
VITE_DEV_MODE=true                    # üîß Development mode
VITE_LOG_LEVEL=debug                  # üìù Logging level
```

## üìã **Installation & Setup Commands**

### **Initial Setup**
```bash
# 1. Clone repository
git clone https://github.com/username/grenzwanderer.git
cd grenzwanderer/client

# 2. Install dependencies
npm install

# 3. Setup environment
cp .env.example .env.local
# Edit .env.local with your tokens

# 4. Start development
npm run start
```

### **Production Build**
```bash
# Build for production
npm run build

# Preview production build
npm run preview

# Type checking
npm run lint
```

## üîÆ **Future Technology Additions by Phase**

### **Phase 5 (Q4 2025): Location-Based Core**
- `turf` –¥–ª—è –≥–µ–æ—Å–ø–∞—Ü–∏–∞–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- `geohash` –¥–ª—è –∑–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- Enhanced `mapbox-gl` features

### **Phase 6 (Q1 2026): Enhanced QR & Mobile**
- `@zxing/library` –¥–ª—è QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `@capacitor/camera` –¥–ª—è native camera
- Camera API polyfills

### **Phase 7 (Q2 2026): PWA Excellence**
- `vite-plugin-pwa` –¥–ª—è service worker
- `workbox-window` –¥–ª—è cache management
- `idb` –¥–ª—è offline storage

### **Phase 8 (Q3 2026): Multiplayer & Advanced**
- `socket.io-client` –¥–ª—è real-time events
- `three.js` –¥–ª—è 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- `@react-three/fiber` –¥–ª—è React integration

### **Phase 9-10 (Q4 2026 - Q1 2027): Polish & Launch**
- Analytics libraries
- Performance monitoring tools
- Localization libraries

## üéØ **Package.json Scripts Reference**

```json
{
  "scripts": {
    "dev": "vite",                     // üöÄ Development server
    "build": "tsc -b && vite build",   // üèóÔ∏è Production build
    "preview": "vite preview",         // üëÄ Preview build
    "start": "concurrently ...",       // üîÑ Start all services
    "lint": "eslint .",                // üîç Lint code
    "test": "vitest run",              // üß™ Run tests
    "test:watch": "vitest"             // üëÅÔ∏è Watch tests
  }
}
```

**–ò—Ç–æ–≥–æ:** –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –∏–∑ **30+ –±–∏–±–ª–∏–æ—Ç–µ–∫**, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è PWA —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã**

#### Hybrid State Architecture
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ **World State** (—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ) –∏ **Player State** (–∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ) —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```typescript
// –°–µ—Ä–≤–µ—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Convex) - World State
interface WorldState {
  globalEvents: WorldEvent[]        // –ú–∏—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –≤—Å–µ—Ö
  npcStates: NPCState[]            // –°–æ—Å—Ç–æ—è–Ω–∏—è NPC –∏ –∏—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å  
  economyData: MarketPrices        // –¶–µ–Ω—ã —Ç–æ—Ä–≥–æ–≤—Ü–µ–≤, –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç
  questRegistry: QuestTemplate[]   // –ö–∞—Ç–∞–ª–æ–≥ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤
  worldFlags: Record<string, any>  // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
  activeZones: AnomalyZone[]       // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã –∏ —Å–æ–±—ã—Ç–∏—è
}

// –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Zustand) - Player State  
interface PlayerState {
  profile: PlayerProfile           // –†–µ–ø—É—Ç–∞—Ü–∏—è, —É—Ä–æ–≤–µ–Ω—å, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  inventory: InventorySystem       // –ü—Ä–µ–¥–º–µ—Ç—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ
  questProgress: QuestProgress[]   // –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫–≤–µ—Å—Ç–∞–º
  locationHistory: LocationLog[]   // –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π
  uiPreferences: UISettings        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  sessionData: SessionCache        // –ö–µ—à —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
}
```

#### Feature-Sliced Design (FSD) –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è:

### **üìÅ App Layer** (–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
```typescript
/app/
‚îú‚îÄ‚îÄ providers/              # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ ConvexProvider.tsx     # Convex –∫–ª–∏–µ–Ω—Ç –∏ real-time –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ AuthProvider.tsx       # Clerk –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ThemeProvider.tsx      # –¢–µ–º–∏–∑–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ UI
‚îÇ   ‚îî‚îÄ‚îÄ ErrorBoundary.tsx      # –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ router/                 # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ AppRouter.tsx          # –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ProtectedRoute.tsx     # –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ routeConfig.ts         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îú‚îÄ‚îÄ store/                  # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ appStore.ts            # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ settingsStore.ts       # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ App.tsx                 # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

### **üìÅ Pages Layer** (–°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
```typescript
/pages/
‚îú‚îÄ‚îÄ HomePage/               # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (dashboard)
‚îÇ   ‚îú‚îÄ‚îÄ HomePage.tsx           # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ ui/                    # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerStatusCard.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuickActionsGrid.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ActiveQuestsList.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SystemStatusCard.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/                 # –õ–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ       ‚îî‚îÄ‚îÄ useHomeData.ts
‚îú‚îÄ‚îÄ MapPage/                # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ MapPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MapControls.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LocationFilters.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PointsListPanel.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îî‚îÄ‚îÄ useMapState.ts
‚îú‚îÄ‚îÄ QuestPage/              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ QuestPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuestCard.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuestFilters.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QuestDetails.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îî‚îÄ‚îÄ useQuestFilters.ts
‚îú‚îÄ‚îÄ CombatPage/             # –ö–∞—Ä—Ç–æ—á–Ω—ã–µ –±–æ–∏
‚îÇ   ‚îú‚îÄ‚îÄ CombatPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BattlefieldGrid.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CardHand.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EnemyArea.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CombatUI.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îî‚îÄ‚îÄ useCombatSession.ts
‚îú‚îÄ‚îÄ InventoryPage/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ InventoryPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InventoryGrid.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ContainerTabs.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemDetails.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SortingControls.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îî‚îÄ‚îÄ useInventoryState.ts
‚îú‚îÄ‚îÄ VisualNovelPage/        # –î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ VisualNovelPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DialogueBox.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CharacterSprites.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChoiceButtons.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SceneBackground.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îî‚îÄ‚îÄ useDialogueState.ts
‚îú‚îÄ‚îÄ SettingsPage/           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ SettingsPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GameSettings.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AudioSettings.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DisplaySettings.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îî‚îÄ‚îÄ useSettings.ts
‚îî‚îÄ‚îÄ QRScannerPage/          # QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    ‚îú‚îÄ‚îÄ QRScannerPage.tsx
    ‚îú‚îÄ‚îÄ ui/
    ‚îÇ   ‚îú‚îÄ‚îÄ CameraView.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ ScanOverlay.tsx
    ‚îÇ   ‚îî‚îÄ‚îÄ ScanResult.tsx
    ‚îî‚îÄ‚îÄ model/
        ‚îî‚îÄ‚îÄ useQRScanner.ts
```

### **üìÅ Widgets Layer** (–°–ª–æ–∂–Ω—ã–µ UI –±–ª–æ–∫–∏)
```typescript
/widgets/
‚îú‚îÄ‚îÄ MapWidget/              # –í–∏–¥–∂–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ MapWidget.tsx          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MapMarkers.tsx     # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MapControls.tsx    # –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LocationTooltip.tsx # –¢—É–ª—Ç–∏–ø—ã –ª–æ–∫–∞—Ü–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GeolocationButton.tsx # –ö–Ω–æ–ø–∫–∞ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useMapState.ts     # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useMarkers.tsx     # –õ–æ–≥–∏–∫–∞ –º–∞—Ä–∫–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useClientVisiblePoints.ts # –í–∏–¥–∏–º—ã–µ —Ç–æ—á–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useGeolocation.ts  # –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ mapboxConfig.ts    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Mapbox
‚îÇ       ‚îî‚îÄ‚îÄ markerUtils.ts     # –£—Ç–∏–ª–∏—Ç—ã –º–∞—Ä–∫–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ NavigationWidget/       # –í–∏–¥–∂–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ NavigationWidget.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TabBar.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NotificationBadge.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QuickActions.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îî‚îÄ‚îÄ useNavigation.ts
‚îú‚îÄ‚îÄ StatusWidget/           # –í–∏–¥–∂–µ—Ç —Å—Ç–∞—Ç—É—Å–∞ –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ StatusWidget.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProgressBars.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StatCards.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AchievementBadges.tsx
‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îî‚îÄ‚îÄ usePlayerStatus.ts
‚îî‚îÄ‚îÄ NotificationWidget/     # –í–∏–¥–∂–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    ‚îú‚îÄ‚îÄ NotificationWidget.tsx
    ‚îú‚îÄ‚îÄ ui/
    ‚îÇ   ‚îú‚îÄ‚îÄ NotificationItem.tsx
    ‚îÇ   ‚îú‚îÄ‚îÄ NotificationList.tsx
    ‚îÇ   ‚îî‚îÄ‚îÄ ToastNotification.tsx
    ‚îî‚îÄ‚îÄ model/
        ‚îî‚îÄ‚îÄ useNotifications.ts
```

### **üìÅ Features Layer** (–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
```typescript
/features/
‚îú‚îÄ‚îÄ authentication/         # –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authApi.ts         # API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authStore.ts       # –°—Ç–æ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useAuth.ts         # –•—É–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ       ‚îú‚îÄ‚îÄ LoginForm.tsx
‚îÇ       ‚îú‚îÄ‚îÄ SignupForm.tsx
‚îÇ       ‚îî‚îÄ‚îÄ UserProfile.tsx
‚îú‚îÄ‚îÄ path-tracking/          # –¢—Ä–µ–∫–∏–Ω–≥ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ trackingApi.ts     # API —Ç—Ä–µ–∫–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routeStore.ts      # –°—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useRouteRecorder.ts # –ó–∞–ø–∏—Å—å –º–∞—Ä—à—Ä—É—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useGeofencing.ts   # –ì–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TrackingIndicator.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RouteStats.tsx
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ geoUtils.ts        # –ì–µ–æ—É—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ compression.ts     # –°–∂–∞—Ç–∏–µ —Ç—Ä–µ–∫–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ validation.ts      # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
‚îú‚îÄ‚îÄ zone-discovery/         # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–æ–Ω –∏ –ª–æ–∫–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ explorationApi.ts  # API –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ discoveryStore.ts  # –°—Ç–æ—Ä –æ—Ç–∫—Ä—ã—Ç–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useZoneDiscovery.ts # –•—É–∫ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∑–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DiscoveryNotification.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ZoneProgress.tsx
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îî‚îÄ‚îÄ zoneCalculation.ts # –†–∞—Å—á–µ—Ç—ã –∑–æ–Ω
‚îú‚îÄ‚îÄ poi-inspection/         # –ò–∑—É—á–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–µ—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ poiApi.ts          # API —Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–µ—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ poiStore.ts        # –°—Ç–æ—Ä —Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–µ—Å–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ usePoiInspection.ts # –•—É–∫ –∏–∑—É—á–µ–Ω–∏—è POI
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ POIDetails.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ResearchButton.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ POIStatus.tsx
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îî‚îÄ‚îÄ poiUtils.ts        # –£—Ç–∏–ª–∏—Ç—ã POI
‚îú‚îÄ‚îÄ phone-points/           # "–¢–µ–ª–µ—Ñ–æ–Ω" - —Å–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ phoneStore.ts      # –°—Ç–æ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ usePhonePoints.ts  # –•—É–∫ —Å–ø–∏—Å–∫–∞ —Ç–æ—á–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PointsList.tsx     # –°–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PointFilters.tsx   # –§–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PointItem.tsx      # –≠–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StatusBadges.tsx   # –ë–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îî‚îÄ‚îÄ filterUtils.ts     # –£—Ç–∏–ª–∏—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ quest-management/       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ questApi.ts        # API –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ questStore.ts      # –°—Ç–æ—Ä –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useQuestProgress.ts # –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useQuestValidation.ts # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuestTracker.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuestRewards.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QuestObjectives.tsx
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ questUtils.ts      # –£—Ç–∏–ª–∏—Ç—ã –∫–≤–µ—Å—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ progressCalculation.ts # –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îú‚îÄ‚îÄ combat-system/          # –ö–∞—Ä—Ç–æ—á–Ω–∞—è –±–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ combatApi.ts       # API –±–æ–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ combatStore.ts     # –°—Ç–æ—Ä –±–æ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deckStore.ts       # –°—Ç–æ—Ä –∫–æ–ª–æ–¥—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useCombatEngine.ts # –î–≤–∏–∂–æ–∫ –±–æ—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useCardValidation.ts # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CombatField.tsx    # –ü–æ–ª–µ –±–æ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CardComponent.tsx  # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DeckBuilder.tsx    # –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ª–æ–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BattleLog.tsx      # –õ–æ–≥ –±–∏—Ç–≤—ã
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ cardEngine.ts      # –î–≤–∏–∂–æ–∫ –∫–∞—Ä—Ç
‚îÇ       ‚îú‚îÄ‚îÄ damageCalculation.ts # –†–∞—Å—á–µ—Ç —É—Ä–æ–Ω–∞
‚îÇ       ‚îî‚îÄ‚îÄ aiLogic.ts         # –ò–ò –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
‚îú‚îÄ‚îÄ inventory-management/   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inventoryApi.ts    # API –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ inventoryStore.ts  # –°—Ç–æ—Ä –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ containerStore.ts  # –°—Ç–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useInventoryLogic.ts # –õ–æ–≥–∏–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useDragAndDrop.ts  # Drag & Drop
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InventorySlot.tsx  # –°–ª–æ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemTooltip.tsx    # –¢—É–ª—Ç–∏–ø –ø—Ä–µ–¥–º–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ContainerView.tsx  # –í–∏–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SortingPanel.tsx   # –ü–∞–Ω–µ–ª—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ inventoryUtils.ts  # –£—Ç–∏–ª–∏—Ç—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ       ‚îú‚îÄ‚îÄ containerLogic.ts  # –õ–æ–≥–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ itemValidation.ts  # –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ dialogue-system/        # –î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dialogueApi.ts     # API –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dialogueStore.ts   # –°—Ç–æ—Ä –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ relationshipStore.ts # –°—Ç–æ—Ä –æ—Ç–Ω–æ—à–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useDialogueEngine.ts # –î–≤–∏–∂–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useCharacterMemory.ts # –ü–∞–º—è—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DialogueWindow.tsx # –û–∫–Ω–æ –¥–∏–∞–ª–æ–≥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChoiceList.tsx     # –°–ø–∏—Å–æ–∫ –≤—ã–±–æ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CharacterPortrait.tsx # –ü–æ—Ä—Ç—Ä–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TextAnimation.tsx  # –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ dialogueParser.ts  # –ü–∞—Ä—Å–µ—Ä –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ emotionEngine.ts   # –î–≤–∏–∂–æ–∫ —ç–º–æ—Ü–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ relationshipUtils.ts # –£—Ç–∏–ª–∏—Ç—ã –æ—Ç–Ω–æ—à–µ–Ω–∏–π
‚îú‚îÄ‚îÄ qr-scanning/            # QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ qrApi.ts           # API QR –∫–æ–¥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qrStore.ts         # –°—Ç–æ—Ä QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useQRScanner.ts    # –•—É–∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QRCamera.tsx       # –ö–∞–º–µ—Ä–∞ QR
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ScanOverlay.tsx    # –û–≤–µ—Ä–ª–µ–π —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QRResult.tsx       # –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ qrDecoder.ts       # –î–µ–∫–æ–¥–µ—Ä QR
‚îÇ       ‚îî‚îÄ‚îÄ cameraUtils.ts     # –£—Ç–∏–ª–∏—Ç—ã –∫–∞–º–µ—Ä—ã
‚îî‚îÄ‚îÄ reputation-system/      # –°–∏—Å—Ç–µ–º–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ api/
    ‚îÇ   ‚îî‚îÄ‚îÄ reputationApi.ts   # API —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ model/
    ‚îÇ   ‚îú‚îÄ‚îÄ reputationStore.ts # –°—Ç–æ—Ä —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    ‚îÇ   ‚îî‚îÄ‚îÄ useReputationCalc.ts # –†–∞—Å—á–µ—Ç —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ ui/
    ‚îÇ   ‚îú‚îÄ‚îÄ ReputationMeter.tsx # –ú–µ—Ç—Ä —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ ReputationHistory.tsx # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
    ‚îÇ   ‚îî‚îÄ‚îÄ ReputationBadges.tsx # –ë–µ–π–¥–∂–∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    ‚îî‚îÄ‚îÄ lib/
        ‚îú‚îÄ‚îÄ reputationCalc.ts  # –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
        ‚îî‚îÄ‚îÄ reputationUtils.ts # –£—Ç–∏–ª–∏—Ç—ã —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
```

### **üìÅ Entities Layer** (–ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏)
```typescript
/entities/
‚îú‚îÄ‚îÄ player/                 # –°—É—â–Ω–æ—Å—Ç—å –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ playerApi.ts       # API –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store.ts           # –°—Ç–æ—Ä –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ selectors.ts       # –°–µ–ª–µ–∫—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validation.ts      # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerCard.tsx     # –ö–∞—Ä—Ç–æ—á–∫–∞ –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerStats.tsx    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlayerAvatar.tsx   # –ê–≤–∞—Ç–∞—Ä –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ playerUtils.ts     # –£—Ç–∏–ª–∏—Ç—ã –∏–≥—Ä–æ–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ playerCalc.ts      # –†–∞—Å—á–µ—Ç—ã –∏–≥—Ä–æ–∫–∞
‚îú‚îÄ‚îÄ map-point/              # –¢–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mapPointApi.ts     # API —Ç–æ—á–µ–∫ –∫–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã —Ç–æ—á–µ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store.ts           # –°—Ç–æ—Ä —Ç–æ—á–µ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ status.ts          # –°—Ç–∞—Ç—É—Å—ã —Ç–æ—á–µ–∫ (discovered/researched)
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MapPointMarker.tsx # –ú–∞—Ä–∫–µ—Ä —Ç–æ—á–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MapPointTooltip.tsx # –¢—É–ª—Ç–∏–ø —Ç–æ—á–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MapPointDetails.tsx # –î–µ—Ç–∞–ª–∏ —Ç–æ—á–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ mapPointUtils.ts   # –£—Ç–∏–ª–∏—Ç—ã —Ç–æ—á–µ–∫
‚îÇ       ‚îî‚îÄ‚îÄ distanceCalc.ts    # –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
‚îú‚îÄ‚îÄ route/                  # –ú–∞—Ä—à—Ä—É—Ç—ã –∏–≥—Ä–æ–∫–∞ (–Ω–æ–≤–æ–µ)
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routeApi.ts        # API –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store.ts           # –°—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ compression.ts     # –°–∂–∞—Ç–∏–µ —Ç—Ä–µ–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RouteVisualization.tsx # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RouteStats.tsx     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ routeUtils.ts      # –£—Ç–∏–ª–∏—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ pathCompression.ts # –°–∂–∞—Ç–∏–µ –ø—É—Ç–µ–π
‚îÇ       ‚îî‚îÄ‚îÄ geohashUtils.ts    # –ì–µ–æ—Ö–µ—à —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ quest/                  # –ö–≤–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ questApi.ts        # API –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ questStore.ts      # –°—Ç–æ—Ä –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ progressStore.ts   # –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validation.ts      # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuestCard.tsx      # –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–≤–µ—Å—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuestProgress.tsx  # –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QuestReward.tsx    # –ù–∞–≥—Ä–∞–¥–∞ –∫–≤–µ—Å—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ questUtils.ts      # –£—Ç–∏–ª–∏—Ç—ã –∫–≤–µ—Å—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ dependencyGraph.ts # –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ combat/                 # –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ combatApi.ts       # API –±–æ–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã –±–æ–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ combatStore.ts     # –°—Ç–æ—Ä –±–æ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cardStore.ts       # –°—Ç–æ—Ä –∫–∞—Ä—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ battlefieldStore.ts # –°—Ç–æ—Ä –ø–æ–ª—è –±–æ—è
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Battlefield.tsx    # –ü–æ–ª–µ –±–æ—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CombatStatus.tsx   # –°—Ç–∞—Ç—É—Å –±–æ—è
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ combatEngine.ts    # –î–≤–∏–∂–æ–∫ –±–æ—è
‚îÇ       ‚îú‚îÄ‚îÄ cardLogic.ts       # –õ–æ–≥–∏–∫–∞ –∫–∞—Ä—Ç
‚îÇ       ‚îî‚îÄ‚îÄ damageSystem.ts    # –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–Ω–∞
‚îú‚îÄ‚îÄ inventory/              # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inventoryApi.ts    # API –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ inventoryStore.ts  # –°—Ç–æ—Ä –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ itemStore.ts       # –°—Ç–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ containerStore.ts  # –°—Ç–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InventoryItem.tsx  # –ü—Ä–µ–¥–º–µ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Container.tsx      # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ItemDetails.tsx    # –î–µ—Ç–∞–ª–∏ –ø—Ä–µ–¥–º–µ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ inventoryLogic.ts  # –õ–æ–≥–∏–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
‚îÇ       ‚îú‚îÄ‚îÄ itemUtils.ts       # –£—Ç–∏–ª–∏—Ç—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ containerUtils.ts  # –£—Ç–∏–ª–∏—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ visual-novel/           # –î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dialogueApi.ts     # API –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scenarioApi.ts     # API —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vnStore.ts         # –°—Ç–æ—Ä VN
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ characterStore.ts  # –°—Ç–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ relationshipStore.ts # –°—Ç–æ—Ä –æ—Ç–Ω–æ—à–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DialogueBox.tsx    # –î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Character.tsx      # –ü–µ—Ä—Å–æ–Ω–∞–∂
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Choice.tsx         # –í—ã–±–æ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Background.tsx     # –§–æ–Ω —Å—Ü–µ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ dialogueEngine.ts  # –î–≤–∏–∂–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ emotionSystem.ts   # –°–∏—Å—Ç–µ–º–∞ —ç–º–æ—Ü–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ voiceSystem.ts     # –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–∞
‚îú‚îÄ‚îÄ world/                  # –ú–∏—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ worldApi.ts        # API –º–∏—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã –º–∏—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ worldStore.ts      # –°—Ç–æ—Ä –º–∏—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ eventStore.ts      # –°—Ç–æ—Ä —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WorldEvent.tsx     # –ú–∏—Ä–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ EventNotification.tsx # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ–±—ã—Ç–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ worldUtils.ts      # –£—Ç–∏–ª–∏—Ç—ã –º–∏—Ä–∞
‚îÇ       ‚îî‚îÄ‚îÄ eventScheduler.ts  # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–æ–±—ã—Ç–∏–π
‚îî‚îÄ‚îÄ economy/                # –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞
    ‚îú‚îÄ‚îÄ api/
    ‚îÇ   ‚îî‚îÄ‚îÄ economyApi.ts      # API —ç–∫–æ–Ω–æ–º–∏–∫–∏
    ‚îú‚îÄ‚îÄ model/
    ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã —ç–∫–æ–Ω–æ–º–∏–∫–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ economyStore.ts    # –°—Ç–æ—Ä —ç–∫–æ–Ω–æ–º–∏–∫–∏
    ‚îÇ   ‚îî‚îÄ‚îÄ priceStore.ts      # –°—Ç–æ—Ä —Ü–µ–Ω
    ‚îú‚îÄ‚îÄ ui/
    ‚îÇ   ‚îú‚îÄ‚îÄ PriceDisplay.tsx   # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω
    ‚îÇ   ‚îî‚îÄ‚îÄ TradingInterface.tsx # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–æ—Ä–≥–æ–≤–ª–∏
    ‚îî‚îÄ‚îÄ lib/
        ‚îú‚îÄ‚îÄ economyUtils.ts    # –£—Ç–∏–ª–∏—Ç—ã —ç–∫–æ–Ω–æ–º–∏–∫–∏
        ‚îî‚îÄ‚îÄ priceCalculation.ts # –†–∞—Å—á–µ—Ç —Ü–µ–Ω
```

### **üìÅ Shared Layer** (–û–±—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã)
```typescript
/shared/
‚îú‚îÄ‚îÄ api/                    # API —Å–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ convex/                # Convex –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ convexClient.ts    # –ö–ª–∏–µ–Ω—Ç Convex
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mutations.ts       # –ú—É—Ç–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ queries.ts         # –ó–∞–ø—Ä–æ—Å—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ subscriptions.ts   # –ü–æ–¥–ø–∏—Å–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ exploration/           # API –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–Ω–æ–≤–æ–µ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ convex.ts          # –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã commitTrace, markResearched
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # –¢–∏–ø—ã API –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validation.ts      # –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ quests/                # API –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ questsApi.ts       # –ó–∞–ø—Ä–æ—Å—ã –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ questValidation.ts # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ qr/                    # API QR –∫–æ–¥–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ convex.ts          # Convex –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è QR
‚îÇ       ‚îî‚îÄ‚îÄ qrValidation.ts    # –í–∞–ª–∏–¥–∞—Ü–∏—è QR –∫–æ–¥–æ–≤
‚îú‚îÄ‚îÄ ui/                     # UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ components/            # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModalContent.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Tooltip/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Tooltip.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ animations/            # –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AnimatedCard.tsx   # –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MotionContainer.tsx # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å stagger
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TypewriterText.tsx # –≠—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FadeTransition.tsx # –ü–µ—Ä–µ—Ö–æ–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ layout/                # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞–∫–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Container.tsx      # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Grid.tsx           # –°–µ—Ç–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Stack.tsx          # –°—Ç–µ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Flex.tsx           # Flex –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ game/                  # –ò–≥—Ä–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ StatCard.tsx       # –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ ProgressBar.tsx    # –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä
‚îÇ       ‚îú‚îÄ‚îÄ NotificationToast.tsx # –¢–æ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ LoadingSpinner.tsx # –°–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ GameIcon.tsx       # –ò–≥—Ä–æ–≤—ã–µ –∏–∫–æ–Ω–∫–∏
‚îú‚îÄ‚îÄ lib/                    # –£—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/                 # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cn.ts              # className —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatters.ts      # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validators.ts      # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ debounce.ts        # –î–µ–±–∞—É–Ω—Å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ throttle.ts        # –¢—Ä–æ—Ç—Ç–ª–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ geoutils/             # –ì–µ–æ—É—Ç–∏–ª–∏—Ç—ã (–Ω–æ–≤–æ–µ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geohash.ts         # –ì–µ–æ—Ö–µ—à —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ douglasPeucker.ts  # DP-–∫–æ–º–ø—Ä–µ—Å—Å–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ distanceCalc.ts    # –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lineApproximation.ts # –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ –ª–∏–Ω–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ zoneUtils.ts       # –£—Ç–∏–ª–∏—Ç—ã –∑–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ events/                # –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ eventBus.ts        # –®–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ eventTypes.ts      # –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ eventHandlers.ts   # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ outbox/                # Outbox –ø–∞—Ç—Ç–µ—Ä–Ω (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ outbox.ts          # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ outbox
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ outboxTypes.ts     # –¢–∏–ø—ã outbox
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outboxSync.ts      # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ storage/               # –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ localStorage.ts    # Local Storage
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sessionStorage.ts  # Session Storage
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ indexedDB.ts       # IndexedDB
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storageTypes.ts    # –¢–∏–ø—ã —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
‚îÇ   ‚îú‚îÄ‚îÄ animations/            # –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ motionVariants.ts  # –í–∞—Ä–∏–∞–Ω—Ç—ã –∞–Ω–∏–º–∞—Ü–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transitions.ts     # –ü–µ—Ä–µ—Ö–æ–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ easings.ts         # –§—É–Ω–∫—Ü–∏–∏ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ deviceId/             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deviceId.ts        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ ID
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ deviceUtils.ts     # –£—Ç–∏–ª–∏—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
‚îÇ   ‚îî‚îÄ‚îÄ convexClient/         # Convex –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îú‚îÄ‚îÄ convexClient.ts    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îú‚îÄ‚îÄ convexTypes.ts     # –¢–∏–ø—ã Convex
‚îÇ       ‚îî‚îÄ‚îÄ convexUtils.ts     # –£—Ç–∏–ª–∏—Ç—ã Convex
‚îú‚îÄ‚îÄ types/                  # –û–±—â–∏–µ —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ api.ts                 # API —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ game.ts                # –ò–≥—Ä–æ–≤—ã–µ —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui.ts                  # UI —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ events.ts              # –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ geography.ts           # –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ player.ts              # –¢–∏–ø—ã –∏–≥—Ä–æ–∫–∞
‚îú‚îÄ‚îÄ constants/              # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ gameConstants.ts       # –ò–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ apiConstants.ts        # API –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ uiConstants.ts         # UI –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ routes.ts              # –ú–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ hooks/                  # –û–±—â–∏–µ —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ useLocalStorage.ts     # –•—É–∫ local storage
‚îÇ   ‚îú‚îÄ‚îÄ useSessionStorage.ts   # –•—É–∫ session storage
‚îÇ   ‚îú‚îÄ‚îÄ useDebounce.ts         # –•—É–∫ –¥–µ–±–∞—É–Ω—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ useThrottle.ts         # –•—É–∫ —Ç—Ä–æ—Ç—Ç–ª–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ useGeolocation.ts      # –•—É–∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ useEventBus.ts         # –•—É–∫ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ useDeviceId.ts         # –•—É–∫ ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
‚îî‚îÄ‚îÄ config/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ env.ts                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ constants.ts           # –û–±—â–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
    ‚îú‚îÄ‚îÄ theme.ts               # –¢–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ zones.ts               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–æ–Ω
    ‚îî‚îÄ‚îÄ api.ts                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
```

### **üìÅ Processes Layer** (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
```typescript
/processes/
‚îú‚îÄ‚îÄ exploration/            # –ü—Ä–æ—Ü–µ—Å—Å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–Ω–æ–≤—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ explorationProcess.ts # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–µ–∫–∏–Ω–≥–∞, —Å–∏–Ω–∫–∞ –∏ UI
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ explorationStore.ts # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useExplorationFlow.ts # –•—É–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ explorationOrchestrator.ts # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ–∏—á
‚îÇ       ‚îî‚îÄ‚îÄ explorationUtils.ts # –£—Ç–∏–ª–∏—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–∞
‚îú‚îÄ‚îÄ onboarding/             # –ü—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ onboardingProcess.ts
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ onboardingStore.ts
‚îÇ   ‚îî‚îÄ‚îÄ steps/
‚îÇ       ‚îú‚îÄ‚îÄ WelcomeStep.tsx
‚îÇ       ‚îú‚îÄ‚îÄ TutorialStep.tsx
‚îÇ       ‚îî‚îÄ‚îÄ FirstQuestStep.tsx
‚îî‚îÄ‚îÄ authentication/         # –ü—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ authProcess.ts
    ‚îú‚îÄ‚îÄ model/
    ‚îÇ   ‚îî‚îÄ‚îÄ authFlowStore.ts
    ‚îî‚îÄ‚îÄ steps/
        ‚îú‚îÄ‚îÄ LoginStep.tsx
        ‚îú‚îÄ‚îÄ RegisterStep.tsx
        ‚îî‚îÄ‚îÄ ProfileStep.tsx
```

#### Event-First + Optimistic Updates
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π**: `shared/lib/events`
- **Outbox pattern**: –æ—Ñ—Ñ–ª–∞–π–Ω –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `localStorage`
- **Optimistic Updates**: –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫
- **Background Sync**: –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
- **Conflict Resolution**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

#### CQRS + Client Authority Pattern
- **World Queries**: Convex –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –º–∏—Ä–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Player Commands**: –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º —Å–∏–Ω–∫–æ–º
- **Hybrid Mutations**: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Ç—Ä–µ–±—É—é—Ç —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- **Read Models**: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è UI

## üéØ –ò–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏

### **1. Advanced Visual Novel System**

#### Core Dialogue Engine
```typescript
// –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –¥–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
interface DialogueSystem {
  // –û—Å–Ω–æ–≤–Ω–æ–π –¥–∏–∞–ª–æ–≥–æ–≤—ã–π –¥–≤–∏–∂–æ–∫
  engine: {
    currentScene: DialogueScene | null
    history: DialogueEntry[]
    autoMode: boolean
    textSpeed: number          // —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (30-100)
    skipMode: 'none' | 'seen' | 'all'
    voiceVolume: number
  }
  
  // –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  displayModes: {
    ADV: ADVConfig             // Adventure mode - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –¥–∏–∞–ª–æ–≥–∏
    NVL: NVLConfig             // Novel mode - —Ç–µ–∫—Å—Ç –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
    CHAT: ChatConfig           // Messenger style - –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
  }
  
  // –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
  saveSystem: {
    autoSaveInterval: number   // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ N —Å—Ç—Ä–æ–∫
    quickSaveSlots: number     // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—ã—Å—Ç—Ä—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
    bookmarkPoints: SavePoint[] // –ó–∞–∫–ª–∞–¥–∫–∏ –≤ –≤–∞–∂–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–∞—Ö
  }
}

// –°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ —É–∑–ª–∞
interface DialogueNode {
  id: string
  type: 'dialogue' | 'narration' | 'choice' | 'action' | 'conditional'
  
  // –ö–æ–Ω—Ç–µ–Ω—Ç
  content: {
    text: string             // –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
    richText?: RichTextNode[] // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π
    translations?: Record<string, string> // –ü–µ—Ä–µ–≤–æ–¥—ã
    voiceFile?: string       // –ê—É–¥–∏–æ —Ñ–∞–π–ª –æ–∑–≤—É—á–∫–∏
  }
  
  // –ü–µ—Ä—Å–æ–Ω–∞–∂
  speaker?: {
    characterId: string      // ID –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
    displayName: string      // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
    emotion: EmotionState    // –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    outfit?: string          // –í–∞—Ä–∏–∞–Ω—Ç –æ–¥–µ–∂–¥—ã/–∫–æ—Å—Ç—é–º–∞
    position?: ScreenPosition // –ü–æ–∑–∏—Ü–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ
  }
  
  // –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
  presentation: {
    backgroundMusic?: string // –§–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞
    soundEffects?: string[]  // –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
    visualEffects?: VisualEffect[] // –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
    cameraShake?: boolean    // –¢—Ä—è—Å–∫–∞ —ç–∫—Ä–∞–Ω–∞
    fadeTransition?: FadeConfig // –ü–µ—Ä–µ—Ö–æ–¥—ã
  }
  
  // –£—Å–ª–æ–≤–∏—è –∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
  logic: {
    conditions?: Condition[] // –£—Å–ª–æ–≤–∏—è –ø–æ–∫–∞–∑–∞
    outcomes?: Outcome[]     // –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤—ã–±–æ—Ä–∞
    flags?: FlagChange[]     // –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–ª–∞–≥–æ–≤
    reputation?: ReputationChange // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
  }
  
  // –ù–∞–≤–∏–≥–∞—Ü–∏—è
  navigation: {
    next?: string           // –°–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª
    choices?: DialogueChoice[] // –í–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–±–æ—Ä–∞
    randomNext?: string[]   // –°–ª—É—á–∞–π–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥
    conditionalNext?: ConditionalTransition[]
  }
}

// –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —ç–º–æ—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
interface EmotionState {
  primary: BaseEmotion       // –û—Å–Ω–æ–≤–Ω–∞—è —ç–º–æ—Ü–∏—è
  intensity: number          // –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å (0-100)
  secondary?: BaseEmotion    // –í—Ç–æ—Ä–∏—á–Ω–∞—è —ç–º–æ—Ü–∏—è
  
  // –ú–∏–∫—Ä–æ—ç–º–æ—Ü–∏–∏ (–¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è)
  microExpressions?: {
    eyebrows?: 'raised' | 'furrowed' | 'normal'
    eyes?: 'wide' | 'narrow' | 'closed' | 'normal'
    mouth?: 'smile' | 'frown' | 'smirk' | 'neutral'
    blush?: boolean
    sweatDrop?: boolean
  }
  
  // –ê–Ω–∏–º–∞—Ü–∏—è —ç–º–æ—Ü–∏–π
  transition?: {
    from: EmotionState
    duration: number         // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –º—Å
    easing: 'linear' | 'ease-in' | 'ease-out' | 'bounce'
  }
}

enum BaseEmotion {
  NEUTRAL = 'neutral',
  HAPPY = 'happy',
  SAD = 'sad',
  ANGRY = 'angry',
  SURPRISED = 'surprised',
  CONFUSED = 'confused',
  EMBARRASSED = 'embarrassed',
  DETERMINED = 'determined',
  WORRIED = 'worried',
  EXCITED = 'excited'
}
```

#### Advanced Choice System
```typescript
// –°–∏—Å—Ç–µ–º–∞ –≤—ã–±–æ—Ä–æ–≤ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
interface DialogueChoice {
  id: string
  text: string
  
  // –£—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
  availability: {
    conditions?: Condition[]   // –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞
    cost?: ResourceCost[]     // –°—Ç–æ–∏–º–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞
    oneTime?: boolean         // –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
    skillCheck?: SkillCheck   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤—ã–∫–æ–≤
  }
  
  // –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
  presentation: {
    color?: ChoiceColor       // –¶–≤–µ—Ç –≤—ã–±–æ—Ä–∞ (–ø–æ —Ç–∏–ø—É)
    icon?: string            // –ò–∫–æ–Ω–∫–∞ –≤—ã–±–æ—Ä–∞
    tooltip?: string         // –ü–æ–¥—Å–∫–∞–∑–∫–∞
    style?: ChoiceStyle      // –°—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  }
  
  // –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
  effects: {
    immediate: Outcome[]     // –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
    delayed: DelayedEffect[] // –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
    reputation: ReputationVector // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    relationships: RelationshipChange[] // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
    worldState: WorldStateChange[] // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∏—Ä–∞
  }
  
  // –ù–∞–≤–∏–≥–∞—Ü–∏—è
  destination: string | ConditionalDestination[]
}

// –¢–∏–ø—ã –≤—ã–±–æ—Ä–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
enum ChoiceColor {
  NEUTRAL = 'text-zinc-300',     // –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä
  POSITIVE = 'text-emerald-400', // –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π/–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π
  NEGATIVE = 'text-red-400',     // –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π/–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π
  CAUTIOUS = 'text-blue-400',    // –û—Å—Ç–æ—Ä–æ–∂–Ω—ã–π/–¥–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π
  BOLD = 'text-amber-400',       // –°–º–µ–ª—ã–π/—Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π
  MYSTERIOUS = 'text-purple-400', // –ó–∞–≥–∞–¥–æ—á–Ω—ã–π/–∏–Ω—Ç—Ä–∏–≥—É—é—â–∏–π
  SKILL = 'text-teal-400'        // –¢—Ä–µ–±—É–µ—Ç –Ω–∞–≤—ã–∫–æ–≤
}

// –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–≤—ã–∫–æ–≤ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö
interface SkillCheck {
  skill: SkillType
  difficulty: number           // –¢—Ä–µ–±—É–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å (0-100)
  successText: string         // –¢–µ–∫—Å—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
  failureText: string         // –¢–µ–∫—Å—Ç –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ
  criticalSuccess?: string    // –¢–µ–∫—Å—Ç –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º —É—Å–ø–µ—Ö–µ
  criticalFailure?: string    // –¢–µ–∫—Å—Ç –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –Ω–µ—É–¥–∞—á–µ
  
  // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
  modifiers?: {
    reputation?: number       // –ë–æ–Ω—É—Å –æ—Ç —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    items?: string[]          // –¢—Ä–µ–±—É–µ–º—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
    relationships?: Record<string, number> // –ë–æ–Ω—É—Å –æ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–π
  }
}
```

#### Character Relationship System
```typescript
// –°–∏—Å—Ç–µ–º–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏
interface RelationshipSystem {
  // –û—Ç–Ω–æ—à–µ–Ω–∏—è —Å NPC
  relationships: Map<string, CharacterRelationship>
  
  // –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
  characterMemory: Map<string, MemoryEntry[]>
  
  // –ì—Ä—É–ø–ø–æ–≤–∞—è –¥–∏–Ω–∞–º–∏–∫–∞
  groupDynamics: GroupRelationship[]
}

interface CharacterRelationship {
  characterId: string
  
  // –ú–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è
  dimensions: {
    trust: number            // –î–æ–≤–µ—Ä–∏–µ (-100 –¥–æ +100)
    respect: number          // –£–≤–∞–∂–µ–Ω–∏–µ (-100 –¥–æ +100)
    affection: number        // –ü—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å (-100 –¥–æ +100)
    fear: number             // –°—Ç—Ä–∞—Ö (0 –¥–æ +100)
    dependency: number       // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (-100 –¥–æ +100)
  }
  
  // –ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
  history: {
    meetings: number         // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å—Ç—Ä–µ—á
    lastMeeting: Date        // –ü–æ—Å–ª–µ–¥–Ω—è—è –≤—Å—Ç—Ä–µ—á–∞
    importantEvents: ImportantEvent[] // –í–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
    sharedSecrets: string[]  // –û–±—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã
  }
  
  // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  currentState: {
    mood: CharacterMood      // –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫ –∏–≥—Ä–æ–∫—É
    availability: boolean    // –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–ª—è –¥–∏–∞–ª–æ–≥–∞
    location?: string        // –¢–µ–∫—É—â–∞—è –ª–æ–∫–∞—Ü–∏—è
    busyUntil?: Date        // –ó–∞–Ω—è—Ç –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
  }
}

// –ü–∞–º—è—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –æ –ø—Ä–æ—à–ª—ã—Ö –¥–∏–∞–ª–æ–≥–∞—Ö
interface MemoryEntry {
  dialogueId: string
  timestamp: Date
  significance: number       // –í–∞–∂–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è (0-100)
  emotional_impact: number   // –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ (-100 –¥–æ +100)
  tags: string[]            // –¢–µ–≥–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
  
  // –°–≤—è–∑–∞–Ω–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è
  references?: string[]     // –°—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è
  triggers?: string[]       // –ß—Ç–æ –º–æ–∂–µ—Ç –Ω–∞–ø–æ–º–Ω–∏—Ç—å –æ–± —ç—Ç–æ–º
}
```

#### Visual Presentation Engine
```typescript
// –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ Visual Novel
interface PresentationEngine {
  // –≠–∫—Ä–∞–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã
  layoutModes: {
    fullscreen: FullscreenLayout    // –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
    windowed: WindowedLayout        // –û–∫–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤
    overlay: OverlayLayout          // –ù–∞–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∏–≥—Ä–æ–≤–æ–π –º–∏—Ä
  }
  
  // –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
  characterSystem: {
    sprites: CharacterSprite[]      // –°–ø—Ä–∞–π—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
    positions: ScreenPosition[]     // –ü–æ–∑–∏—Ü–∏–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
    layers: RenderLayer[]           // –°–ª–æ–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
    animations: CharacterAnimation[] // –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
  }
  
  // –§–æ–Ω—ã –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
  backgrounds: {
    static: StaticBackground[]      // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ–Ω—ã
    animated: AnimatedBackground[]  // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ–Ω—ã
    parallax: ParallaxLayer[]       // –ü–∞—Ä–∞–ª–ª–∞–∫—Å —Å–ª–æ–∏
    weather: WeatherEffect[]        // –ü–æ–≥–æ–¥–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
  }
  
  // –≠—Ñ—Ñ–µ–∫—Ç—ã –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã
  effects: {
    textEffects: TextEffect[]       // –≠—Ñ—Ñ–µ–∫—Ç—ã —Ç–µ–∫—Å—Ç–∞
    screenEffects: ScreenEffect[]   // –≠–∫—Ä–∞–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
    transitions: SceneTransition[]  // –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏
    particles: ParticleSystem[]     // –°–∏—Å—Ç–µ–º—ã —á–∞—Å—Ç–∏—Ü
  }
}

// –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
interface CharacterAnimation {
  type: AnimationType
  duration: number
  easing: string
  
  // –¢–∏–ø—ã –∞–Ω–∏–º–∞—Ü–∏–π
  transforms?: {
    position?: { x: number, y: number }
    scale?: { x: number, y: number }
    rotation?: number
    opacity?: number
  }
  
  // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
  specialEffects?: {
    bounce?: boolean
    shake?: { intensity: number, frequency: number }
    glow?: { color: string, intensity: number }
    blur?: number
  }
}

enum AnimationType {
  ENTER = 'enter',           // –ü–æ—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  EXIT = 'exit',             // –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  IDLE = 'idle',             // –ü—Ä–æ—Å—Ç–æ–π
  TALK = 'talk',             // –†–∞–∑–≥–æ–≤–æ—Ä
  EMOTION = 'emotion',       // –°–º–µ–Ω–∞ —ç–º–æ—Ü–∏–∏
  GESTURE = 'gesture',       // –ñ–µ—Å—Ç
  MOVE = 'move'              // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
}
```

#### Audio & Voice System
```typescript
// –°–∏—Å—Ç–µ–º–∞ –∑–≤—É–∫–∞ –∏ –æ–∑–≤—É—á–∫–∏
interface AudioSystem {
  // –ì–æ–ª–æ—Å–æ–≤–∞—è –æ–∑–≤—É—á–∫–∞
  voiceActing: {
    languages: SupportedLanguage[]   // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏
    voices: VoiceProfile[]           // –ü—Ä–æ—Ñ–∏–ª–∏ –≥–æ–ª–æ—Å–æ–≤
    synthesis: TTSConfig             // Text-to-Speech –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    recordedLines: AudioClip[]       // –ó–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —Ä–µ–ø–ª–∏–∫–∏
  }
  
  // –ó–≤—É–∫–æ–≤–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
  soundDesign: {
    ambientSounds: AmbientTrack[]    // –§–æ–Ω–æ–≤—ã–µ –∑–≤—É–∫–∏
    soundEffects: SFXLibrary         // –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
    musicTracks: MusicTrack[]        // –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–∫–∏
    adaptiveAudio: AdaptiveAudioConfig // –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∞—É–¥–∏–æ
  }
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
  playback: {
    autoPlay: boolean                // –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
    skipVoiceOnFastText: boolean     // –ü—Ä–æ–ø—É—Å–∫ –æ–∑–≤—É—á–∫–∏ –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º —Ç–µ–∫—Å—Ç–µ
    voiceVolume: number              // –ì—Ä–æ–º–∫–æ—Å—Ç—å –≥–æ–ª–æ—Å–∞
    sfxVolume: number                // –ì—Ä–æ–º–∫–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
    musicVolume: number              // –ì—Ä–æ–º–∫–æ—Å—Ç—å –º—É–∑—ã–∫–∏
  }
}

// –ü—Ä–æ—Ñ–∏–ª–∏ –≥–æ–ª–æ—Å–æ–≤ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
interface VoiceProfile {
  characterId: string
  
  // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–æ–ª–æ—Å–∞
  voiceParams: {
    pitch: number               // –í—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ (0.5-2.0)
    speed: number               // –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏ (0.5-2.0)
    volume: number              // –ì—Ä–æ–º–∫–æ—Å—Ç—å (0-1)
    accent?: string             // –ê–∫—Ü–µ–Ω—Ç
    emotion_modifier?: number    // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä —ç–º–æ—Ü–∏–π
  }
  
  // –ó–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã
  recordedClips?: {
    greeting: string[]          // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    goodbye: string[]           // –ü—Ä–æ—â–∞–Ω–∏—è
    agreement: string[]         // –°–æ–≥–ª–∞—Å–∏–µ
    disagreement: string[]      // –ù–µ—Å–æ–≥–ª–∞—Å–∏–µ
    laughter: string[]          // –°–º–µ—Ö
    surprise: string[]          // –£–¥–∏–≤–ª–µ–Ω–∏–µ
  }
}
```

### **2. Combat Card System**

#### Core Combat Flow
```typescript
// –ë–æ–µ–≤–∞—è —Å–µ—Å—Å–∏—è (client-authoritative)
interface CombatSession {
  id: string
  playerDeck: Card[]           // 20-30 –∫–∞—Ä—Ç –∏–≥—Ä–æ–∫–∞
  enemyDeck: Card[]           // –ò–ò –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞  
  battlefield: BattlefieldState
  turnState: TurnPhase
  gameState: 'preparing' | 'active' | 'victory' | 'defeat'
}

// –§–∞–∑—ã —Ö–æ–¥–∞
enum TurnPhase {
  DRAW = 'draw',           // –î–æ–±–æ—Ä –∫–∞—Ä—Ç
  MAIN = 'main',           // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–∞–∑–∞ - —Ä–∞–∑—ã–≥—Ä—ã–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç
  COMBAT = 'combat',       // –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –±–æ—è
  END = 'end'              // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ö–æ–¥–∞
}
```

#### Advanced Card Mechanics

##### **Card Types & Energy System**
```typescript
interface Card {
  id: string
  template: CardTemplate
  energyCost: number           // –°—Ç–æ–∏–º–æ—Å—Ç—å –≤ —ç–Ω–µ—Ä–≥–∏–∏ (0-6)
  type: 'weapon' | 'armor' | 'tactical' | 'artifact' | 'consumable'
  rarity: 'common' | 'rare' | 'epic' | 'legendary'
  
  // Weapon-specific
  weaponData?: {
    damage: DamageRange       // [min, max] —É—Ä–æ–Ω
    accuracy: number          // –®–∞–Ω—Å –ø–æ–ø–∞–¥–∞–Ω–∏—è (0-100%)
    range: 'melee' | 'short' | 'medium' | 'long'
    ammoType: AmmoType
    magazineSize: number
    currentAmmo: number
    jamChance: number         // –®–∞–Ω—Å –∑–∞–∫–ª–∏–Ω–∏–≤–∞–Ω–∏—è (0-20%)
    reloadCost: number        // –≠–Ω–µ—Ä–≥–∏—è –Ω–∞ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É
  }
  
  // Status effects
  statusEffects?: StatusEffect[]
  conditions?: PlayCondition[]
  
  // Upgrade path
  upgradeLevel: number
  maxUpgrades: number
}

// –£—Ä–æ–Ω —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
interface DamageRange {
  physical: [number, number]  // –§–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω
  energy: [number, number]    // –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω  
  critical: number            // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –∫—Ä–∏—Ç–∞
  penetration: number         // –ü—Ä–æ–±–∏—Ç–∏–µ –±—Ä–æ–Ω–∏
}
```

##### **Battlefield Zones & Positioning**
```typescript
interface BattlefieldState {
  zones: {
    frontline: BattleZone     // –ë–ª–∏–∂–Ω–∏–π –±–æ–π, –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–Ω
    midrange: BattleZone      // –°—Ä–µ–¥–Ω—è—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è
    backline: BattleZone      // –î–∞–ª—å–Ω–∏–π –±–æ–π, —Å–Ω–∞–π–ø–µ—Ä—ã
    cover: BattleZone         // –£–∫—Ä—ã—Ç–∏–µ, +–∑–∞—â–∏—Ç–∞
  }
  
  // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  playerPosition: ZoneType
  enemyPosition: ZoneType
  
  // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∑–æ–Ω
  zoneEffects: {
    [K in ZoneType]: {
      damageModifier: number    // +/- —É—Ä–æ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–æ–Ω—ã
      accuracyModifier: number  // +/- —Ç–æ—á–Ω–æ—Å—Ç—å
      energyCost: number        // –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–º–µ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏
    }
  }
}

// –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ —Ç–∞–∫—Ç–∏–∫–∏
interface PositionalCard extends Card {
  preferredZone?: ZoneType     // –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è –∫–∞—Ä—Ç—ã
  zoneRestriction?: ZoneType[] // –ö–∞—Ä—Ç—É –º–æ–∂–Ω–æ –∏–≥—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ —ç—Ç–∏—Ö –∑–æ–Ω–∞—Ö
  movementEffect?: {           // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–æ–∑–∏—Ü–∏–∏
    newZone: ZoneType
    additionalEffects: Effect[]
  }
}
```

##### **Advanced Weapon Mechanics**
```typescript
// –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –æ—Ä—É–∂–µ–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
interface WeaponMechanics {
  // –ó–∞–∫–ª–∏–Ω–∏–≤–∞–Ω–∏–µ –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å
  reliability: {
    condition: number         // 0-100%, –≤–ª–∏—è–µ—Ç –Ω–∞ jam chance
    maintenanceRequired: boolean
    repairCost: RepairCost
  }
  
  // –ë–æ–µ–ø—Ä–∏–ø–∞—Å—ã
  ammunition: {
    currentMag: number        // –ü–∞—Ç—Ä–æ–Ω—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ
    totalAmmo: number         // –û–±—â–∏–π –∑–∞–ø–∞—Å
    ammoTypes: AmmoVariant[]  // –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø–∞—Ç—Ä–æ–Ω–æ–≤
    reloadSpeed: number       // –•–æ–¥—ã –Ω–∞ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É
  }
  
  // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
  attachments: {
    scope?: ScopeAttachment   // +accuracy, +range
    barrel?: BarrelMod        // +damage –∏–ª–∏ +accuracy
    stock?: StockMod          // +stability
    magazine?: MagazineMod    // +capacity
  }
}

// –¢–∏–ø—ã –±–æ–µ–ø—Ä–∏–ø–∞—Å–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
interface AmmoVariant {
  type: 'standard' | 'armor_piercing' | 'hollow_point' | 'incendiary'
  damageModifier: number
  penetrationBonus: number
  specialEffects: StatusEffect[]
  cost: number
}
```

##### **Status Effects & Conditions**
```typescript
interface StatusEffect {
  id: string
  name: string
  type: 'buff' | 'debuff' | 'condition'
  duration: number          // -1 = permanent
  stackable: boolean
  
  effects: {
    damageOverTime?: number
    damageReduction?: number  
    accuracyModifier?: number
    energyModifier?: number
    movementRestriction?: boolean
  }
  
  // –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
  visualEffect: {
    icon: string
    color: string
    animation?: AnimationType
  }
}

// –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ç–∞—Ç—É—Å—ã
const ADVANCED_STATUSES = {
  BLEEDING: {              // –ö—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏–µ
    damageOverTime: 2,
    duration: 3,
    stackable: true
  },
  SUPPRESSED: {            // –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –æ–≥–Ω—ë–º
    accuracyModifier: -30,
    energyModifier: +1,
    duration: 2
  },
  JAMMED_WEAPON: {         // –ó–∞–∫–ª–∏–Ω–∏–≤—à–µ–µ –æ—Ä—É–∂–∏–µ
    movementRestriction: true,
    duration: 1            // –¢—Ä–∞—Ç–∏–º —Ö–æ–¥ –Ω–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ
  },
  ADRENALINE: {            // –ê–¥—Ä–µ–Ω–∞–ª–∏–Ω
    damageModifier: +25,
    accuracyModifier: -10,
    duration: 2
  }
} as const
```

#### Card System Architecture
```typescript
// –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –¥–≤–∏–∂–æ–∫ –∫–∞—Ä—Ç
interface CardEngine {
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–¥–æ–π
  deckManager: {
    buildDeck(cards: Card[]): Deck
    shuffleDeck(deck: Deck): Deck
    drawCards(count: number): Card[]
    discardCard(card: Card): void
    recyclePile(): void
  }
  
  // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π
  actionValidator: {
    canPlayCard(card: Card, target?: Target): boolean
    canActivateAbility(ability: Ability): boolean
    canMove(fromZone: ZoneType, toZone: ZoneType): boolean
    calculateEnergyCost(action: CombatAction): number
  }
  
  // –ò–ò –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
  aiEngine: {
    difficulty: 'easy' | 'medium' | 'hard' | 'legendary'
    selectBestMove(gameState: CombatSession): CombatAction
    adaptTactics(playerBehavior: PlayerAction[]): void
  }
  
  // –†–∞—Å—á—ë—Ç —É—Ä–æ–Ω–∞
  damageCalculator: {
    calculateHit(attacker: Card, defender: Card, zone: ZoneType): HitResult
    applyStatusEffects(target: CombatUnit, effects: StatusEffect[]): void
    checkCritical(card: Card, target: CombatUnit): boolean
  }
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ç–∞–∫–∏
interface HitResult {
  hit: boolean              // –ü–æ–ø–∞–¥–∞–Ω–∏–µ/–ø—Ä–æ–º–∞—Ö
  damage: DamageDealt       // –ù–∞–Ω–µ—Å—ë–Ω–Ω—ã–π —É—Ä–æ–Ω –ø–æ —Ç–∏–ø–∞–º
  critical: boolean         // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ø–∞–¥–∞–Ω–∏–µ
  statusesApplied: StatusEffect[]
  armorPenetrated: boolean
  weaponJammed?: boolean    // –ó–∞–∫–ª–∏–Ω–∏–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –≤—ã—Å—Ç—Ä–µ–ª–∞
}
```

#### Deck Building System
```typescript
interface DeckBuilder {
  // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–æ–¥—ã
  constraints: {
    minCards: 20
    maxCards: 30
    maxCopies: 3              // –ú–∞–∫—Å–∏–º—É–º 3 –∫–æ–ø–∏–∏ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç—ã
    maxRarity: {              // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
      legendary: 3
      epic: 8
      rare: 15
      common: number          // –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    }
  }
  
  // –°–∏–Ω–µ—Ä–≥–∏–∏ –∏ –∞—Ä—Ö–µ—Ç–∏–ø—ã
  archetypes: {
    SNIPER: {                 // –°–Ω–∞–π–ø–µ—Ä—Å–∫–∏–π –∞—Ä—Ö–µ—Ç–∏–ø
      bonuses: { range: +2, critChance: +15 }
      requiredCards: ['sniper_rifle', 'scope', 'ghillie_suit']
      incompatibleWith: ['BERSERKER']
    }
    BERSERKER: {             // –ë–ª–∏–∂–Ω–∏–π –±–æ–π
      bonuses: { damage: +20, speed: +1 }
      requiredCards: ['melee_weapon', 'heavy_armor']
      incompatibleWith: ['SNIPER']
    }
    MEDIC: {                 // –ü–æ–¥–¥–µ—Ä–∂–∫–∞
      bonuses: { healing: +50, statusResistance: +25 }
      requiredCards: ['medkit', 'stimulants']
    }
  }
  
  // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞
  balancing: {
    adjustCardsByWinRate(): void
    suggestDeckImprovements(stats: PlayerStats): Card[]
    calculateDeckPower(deck: Deck): number
  }
}

### **3. Tarkov-Style Inventory System**

#### Container-Based Storage Architecture
```typescript
// –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
interface InventoryContainer {
  id: string
  type: ContainerType
  size: GridSize              // –†–∞–∑–º–µ—Ä –≤ —Å–ª–æ—Ç–∞—Ö (width x height)
  items: InventoryItem[]      // –ü—Ä–µ–¥–º–µ—Ç—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
  restrictions?: ItemFilter   // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ç–∏–ø—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤
  parent?: string            // ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
}

// –¢–∏–ø—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
enum ContainerType {
  STASH = 'stash',           // –û—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
  BACKPACK = 'backpack',     // –†—é–∫–∑–∞–∫
  VEST = 'vest',             // –†–∞–∑–≥—Ä—É–∑–æ—á–Ω—ã–π –∂–∏–ª–µ—Ç
  POCKETS = 'pockets',       // –ö–∞—Ä–º–∞–Ω—ã
  SECURE = 'secure',         // –ó–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  WEAPON_CASE = 'weapon_case', // –ö–µ–π—Å –¥–ª—è –æ—Ä—É–∂–∏—è
  AMMO_BOX = 'ammo_box'      // –ö–æ—Ä–æ–±–∫–∞ –ø–∞—Ç—Ä–æ–Ω–æ–≤
}

// –†–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–≤ —è—á–µ–π–∫–∞—Ö)
interface GridSize {
  width: number              // –®–∏—Ä–∏–Ω–∞ –≤ —è—á–µ–π–∫–∞—Ö
  height: number             // –í—ã—Å–æ—Ç–∞ –≤ —è—á–µ–π–∫–∞—Ö
  cells: number              // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—á–µ–µ–∫
}
```

#### Advanced Item System
```typescript
interface InventoryItem {
  id: string
  templateId: string         // –°—Å—ã–ª–∫–∞ –Ω–∞ —à–∞–±–ª–æ–Ω –ø—Ä–µ–¥–º–µ—Ç–∞
  size: ItemSize            // –†–∞–∑–º–µ—Ä –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ —è—á–µ–π–∫–∞—Ö
  position: GridPosition    // –ü–æ–∑–∏—Ü–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
  stackSize: number         // –†–∞–∑–º–µ—Ä —Å—Ç–∞–∫–∞ (–¥–ª—è —Å—Ç–∞–∫—É—é—â–∏—Ö—Å—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤)
  condition: number         // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ (0-100%)
  
  // –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
  properties: {
    weight: number          // –í–µ—Å –≤ –≥—Ä–∞–º–º–∞—Ö
    value: number           // –°—Ç–æ–∏–º–æ—Å—Ç—å
    rarity: ItemRarity
    durability?: number     // –¢–µ–∫—É—â–∞—è –ø—Ä–æ—á–Ω–æ—Å—Ç—å
    maxDurability?: number  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—á–Ω–æ—Å—Ç—å
  }
  
  // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
  modSlots?: ModSlot[]      // –°–ª–æ—Ç—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π (–æ—Ä—É–∂–∏–µ)
  contains?: InventoryContainer // –í–ª–æ–∂–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (—Ä—é–∫–∑–∞–∫–∏, –∫–µ–π—Å—ã)
  ammoData?: AmmoData       // –î–∞–Ω–Ω—ã–µ –æ –ø–∞—Ç—Ä–æ–Ω–∞—Ö
  keyData?: KeyData         // –î–∞–Ω–Ω—ã–µ –æ –∫–ª—é—á–∞—Ö
  
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  metadata: {
    foundDate: Date
    foundLocation?: string
    isQuestItem: boolean
    isSecure: boolean       // –ù–µ–ª—å–∑—è –ø–æ—Ç–µ—Ä—è—Ç—å –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏
  }
}

// –†–∞–∑–º–µ—Ä –ø—Ä–µ–¥–º–µ—Ç–∞
interface ItemSize {
  width: number             // –®–∏—Ä–∏–Ω–∞ –≤ —è—á–µ–π–∫–∞—Ö
  height: number            // –í—ã—Å–æ—Ç–∞ –≤ —è—á–µ–π–∫–∞—Ö
  rotatable: boolean        // –ú–æ–∂–Ω–æ –ª–∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å
  shape?: CellPattern[]     // –°–ª–æ–∂–Ω–∞—è —Ñ–æ—Ä–º–∞ (–Ω–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫)
}

// –ü–æ–∑–∏—Ü–∏—è –≤ —Å–µ—Ç–∫–µ
interface GridPosition {
  x: number                 // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X (–ª–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
  y: number                 // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y (–ª–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
  rotation: 0 | 90 | 180 | 270 // –ü–æ–≤–æ—Ä–æ—Ç –ø—Ä–µ–¥–º–µ—Ç–∞
}
```

#### Drag & Drop Validation System
```typescript
interface InventoryLogic {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
  canPlaceItem(
    item: InventoryItem,
    container: InventoryContainer,
    position: GridPosition
  ): ValidationResult
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π
  checkCollisions(
    item: InventoryItem,
    container: InventoryContainer,
    position: GridPosition
  ): CollisionResult
  
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ
  findBestPosition(
    item: InventoryItem,
    container: InventoryContainer
  ): GridPosition | null
  
  // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
  moveItem(
    itemId: string,
    fromContainer: string,
    toContainer: string,
    newPosition: GridPosition
  ): MoveResult
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏
interface ValidationResult {
  valid: boolean
  errors: ValidationError[]
  warnings: string[]
  autoCorrect?: GridPosition  // –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
}

// –¢–∏–ø—ã –æ—à–∏–±–æ–∫ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
enum ValidationError {
  ITEM_TOO_LARGE = 'item_too_large',
  POSITION_OCCUPIED = 'position_occupied', 
  INVALID_ITEM_TYPE = 'invalid_item_type',
  CONTAINER_FULL = 'container_full',
  WEIGHT_LIMIT_EXCEEDED = 'weight_limit_exceeded',
  ITEM_RESTRICTIONS = 'item_restrictions'
}
```

#### Raid Preparation System
```typescript
// –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ "—Ä–µ–π–¥—É" (–≤—ã—Ö–æ–¥—É –≤ –º–∏—Ä)
interface RaidPreparation {
  // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è
  prepareLoadout(selectedItems: ItemSelection): PrepResult
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
  validateLoadout(loadout: RaidLoadout): LoadoutValidation
  
  // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è
  applyLoadout(loadout: RaidLoadout): void
  
  // –í–æ–∑–≤—Ä–∞—Ç —Å —Ä–µ–π–¥–∞
  returnFromRaid(
    survivedItems: InventoryItem[],
    lootedItems: InventoryItem[],
    experience: RaidExperience
  ): RaidResult
}

// –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ –¥–ª—è —Ä–µ–π–¥–∞
interface RaidLoadout {
  primaryWeapon?: InventoryItem
  secondaryWeapon?: InventoryItem
  armor: InventoryItem[]
  backpack?: InventoryItem
  consumables: InventoryItem[]
  ammunition: AmmoLoadout
  
  // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  totalWeight: number
  totalVolume: number
  estimatedValue: number
}

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ä–æ–Ω–∞–º–∏
interface AmmoLoadout {
  magazines: Magazine[]       // –°–Ω–∞—Ä—è–∂–µ–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã
  looseAmmo: AmmoStack[]     // –†–æ—Å—Å—ã–ø–Ω—ã–µ –ø–∞—Ç—Ä–æ–Ω—ã
  ammoTypes: AmmoType[]      // –¢–∏–ø—ã –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞—Ç—Ä–æ–Ω–æ–≤
  
  // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
  autoFillMagazines(): void
  optimizeAmmoDistribution(): void
}
```

#### Container Hierarchy & Nesting
```typescript
// –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
interface ContainerHierarchy {
  // –ö–æ—Ä–Ω–µ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏–≥—Ä–æ–∫—É)
  root: {
    stash: InventoryContainer     // –û—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
    gear: EquipmentSlots         // –≠–∫–∏–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
    secure: SecureContainer      // –ó–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  }
  
  // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
  temporary: {
    loot: InventoryContainer     // –õ—É—Ç —Å –ª–æ–∫–∞—Ü–∏–∏
    trader: InventoryContainer   // –ü—Ä–µ–¥–º–µ—Ç—ã —Ç–æ—Ä–≥–æ–≤—Ü–∞
    repair: InventoryContainer   // –ü—Ä–µ–¥–º–µ—Ç—ã –Ω–∞ —Ä–µ–º–æ–Ω—Ç–µ
  }
  
  // –ú–µ—Ç–æ–¥—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  findContainer(itemId: string): InventoryContainer | null
  getContainerPath(containerId: string): string[]
  moveToParent(itemId: string): boolean
  expandContainer(containerId: string): InventoryContainer[]
}

// –°–ª–æ—Ç—ã —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏
interface EquipmentSlots {
  head?: InventoryItem          // –ì–æ–ª–æ–≤–∞ (—à–ª–µ–º, –æ—á–∫–∏)
  earpiece?: InventoryItem      // –ù–∞—É—à–Ω–∏–∫–∏
  face?: InventItem            // –õ–∏—Ü–æ (–º–∞—Å–∫–∞)
  armor?: InventoryItem         // –ë—Ä–æ–Ω–µ–∂–∏–ª–µ—Ç
  backpack?: InventoryItem      // –†—é–∫–∑–∞–∫
  primaryWeapon?: InventoryItem // –û—Å–Ω–æ–≤–Ω–æ–µ –æ—Ä—É–∂–∏–µ
  secondaryWeapon?: InventoryItem // –ó–∞–ø–∞—Å–Ω–æ–µ –æ—Ä—É–∂–∏–µ
  holster?: InventoryItem       // –ü–∏—Å—Ç–æ–ª–µ—Ç
  pockets: InventoryItem[]      // –ö–∞—Ä–º–∞–Ω—ã (4 —Å–ª–æ—Ç–∞)
  secure?: InventoryItem        // –ó–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
}
```

#### Smart Sorting & Organization
```typescript
interface InventoryOrganizer {
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
  autoSort(container: InventoryContainer, criteria: SortCriteria): void
  
  // –£–º–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞
  optimizePacking(items: InventoryItem[]): PackingResult
  
  // –ü–æ–∏—Å–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
  searchItems(query: SearchQuery): InventoryItem[]
  
  // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
  groupSimilarItems(container: InventoryContainer): ItemGroup[]
  
  // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  suggestOptimizations(container: InventoryContainer): Suggestion[]
}

// –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
enum SortCriteria {
  BY_TYPE = 'by_type',         // –ü–æ —Ç–∏–ø—É –ø—Ä–µ–¥–º–µ—Ç–∞
  BY_VALUE = 'by_value',       // –ü–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
  BY_WEIGHT = 'by_weight',     // –ü–æ –≤–µ—Å—É
  BY_SIZE = 'by_size',         // –ü–æ —Ä–∞–∑–º–µ—Ä—É
  BY_RARITY = 'by_rarity',     // –ü–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
  BY_CONDITION = 'by_condition', // –ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é
  CUSTOM = 'custom'            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç —É–ø–∞–∫–æ–≤–∫–∏
interface PackingResult {
  layout: ItemPlacement[]      // –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ
  efficiency: number           // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç–∞ (0-100%)
  unusedSpace: number          // –ù–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —è—á–µ–µ–∫
  suggestions: string[]        // –°–æ–≤–µ—Ç—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
}
```

### **4. Spatial Exploration System**

#### Location-Based Features
- **QR-–∫–æ–¥ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –ª–æ–∫–∞—Ü–∏–π –¥–ª—è AR-–æ–ø—ã—Ç–∞
- **–ì–µ–æ–∑–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–µ–π –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è flicker
- **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤** –ø–æ —Ç–∏–ø–∞–º (–∫–≤–µ—Å—Ç—ã, NPC, –∞–Ω–æ–º–∞–ª–∏–∏)
- **Spatial indexing** —á–µ—Ä–µ–∑ quadtree –∏ –≥–µ–æ—Ö–µ—à–∏

#### Marker Lifecycle
```typescript
enum MarkerStatus {
  SPAWNED = 'spawned',
  ACTIVE = 'active',
  COOLDOWN = 'cooldown',
  DESPAWNED = 'despawned'
}
```

### **4. Reputation System**

#### Multi-Dimensional Model
- **–ß–µ—Ç—ã—Ä–µ –æ—Å–∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏**:
  - Combat: –±–æ–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏ –∏ –∞–≥—Ä–µ—Å—Å–∏—è
  - Exploration: –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
  - Social: –¥–∏–ø–ª–æ–º–∞—Ç–∏—è –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è
  - Reliability: –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### Temporal Decay
- **–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ** —Å–æ–±—ã—Ç–∏–π —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
- **–†–∞–∑–ª–∏—á–Ω—ã–µ half-life –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π

### **5. Quest Framework**

#### Dependency Graph
- **DAG —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** —Å –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è–º–∏ –∏ –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è–º–∏
- **–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤
- **–£—Å–ª–æ–≤–Ω—ã–µ –≤–µ—Ç–≤–ª–µ–Ω–∏—è** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ –∏ —Ñ–ª–∞–≥–æ–≤

#### Procedural Generation
- **–ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** –∫–≤–µ—Å—Ç–æ–≤ –ø–æ –∞—Ä—Ö–µ—Ç–∏–ø–∞–º
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è** –ø–æ–¥ –∏–≥—Ä–æ–∫–∞ (–ª–æ–∫–∞—Ü–∏—è, —Ä–µ–ø—É—Ç–∞—Ü–∏—è, —Ñ–∞–∑–∞)

## üé® Advanced UI/UX Design System

### **Dark Cyberpunk Aesthetic**
–û—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ —Ç–µ–º–Ω–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–µ —Å –Ω–µ–æ–Ω–æ–≤—ã–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏ –∏ —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏.

#### **Color System & Palette**
```typescript
// –û—Å–Ω–æ–≤–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ HomePage.tsx)
interface ColorPalette {
  // –ë–∞–∑–æ–≤—ã–µ —Ç–µ–º–Ω—ã–µ —Ç–æ–Ω–∞ (zinc palette)
  background: {
    primary: 'bg-zinc-900',           // –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω
    secondary: 'bg-zinc-800',         // –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω
    surface: 'bg-zinc-900/50',        // –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
    elevated: 'bg-zinc-800/80',       // –í–æ–∑–≤—ã—à–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
    overlay: 'bg-black/60'            // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
  }
  
  // –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è –≥–ª—É–±–∏–Ω—ã
  gradients: {
    main: 'bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900',
    card: 'bg-gradient-to-r from-emerald-900/40 to-blue-900/40',
    button: 'bg-gradient-to-r from-blue-600 to-blue-700',
    danger: 'bg-gradient-to-r from-red-600 to-red-700'
  }
  
  // –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Ü–≤–µ—Ç–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã (–∫–∞–∫ –≤ QuickActions)
  accents: {
    primary: 'text-emerald-400',      // QR Scanner, Success
    secondary: 'text-blue-400',       // Map, Info
    combat: 'text-red-400',           // Combat System
    inventory: 'text-amber-400',      // Inventory
    quests: 'text-purple-400',        // Quests
    settings: 'text-zinc-400',        // Settings
    neutral: 'text-zinc-300',         // –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π
    muted: 'text-zinc-400'            // –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π
  }
}

// –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∏–∑ HomePage)
const GAME_ELEMENT_COLORS = {
  quickActions: {
    qr: 'text-emerald-400 bg-emerald-900/30 border-emerald-700/50',
    map: 'text-blue-400 bg-blue-900/30 border-blue-700/50',
    quests: 'text-purple-400 bg-purple-900/30 border-purple-700/50',
    combat: 'text-red-400 bg-red-900/30 border-red-700/50',
    inventory: 'text-amber-400 bg-amber-900/30 border-amber-700/50',
    settings: 'text-zinc-400 bg-zinc-900/30 border-zinc-700/50'
  }
} as const
```

### **Advanced Animation Framework**
```typescript
// –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∏–º–∞—Ü–∏–π —Å Framer Motion (–Ω–∞ –æ—Å–Ω–æ–≤–µ HomePage.tsx)
interface AnimationSystem {
  // –ë–∞–∑–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (–∫–∞–∫ –≤ HomePage)
  variants: {
    // –ü–æ—è–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    fadeIn: {
      initial: { opacity: 0, y: -20 },
      animate: { opacity: 1, y: 0 },
      transition: { duration: 0.6 }
    },
    
    // Stagger –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ (MotionContainer)
    staggerContainer: {
      animate: {
        transition: {
          staggerChildren: 0.1,
          delayChildren: 0.1
        }
      }
    },
    
    // Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (QuickActions)
    interactive: {
      rest: { scale: 1, y: 0 },
      hover: { 
        scale: 1.05, 
        y: -4,
        transition: { duration: 0.2 }
      },
      tap: { scale: 0.95 }
    },
    
    // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
    gameCard: {
      rest: { scale: 1, z: 0 },
      hover: { 
        scale: 1.08, 
        y: -2,
        transition: { duration: 0.2 }
      }
    }
  }
  
  // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
  effects: {
    // –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–∫–∞–∫ –≤ Player Status)
    statHover: {
      y: -2,
      transition: { duration: 0.2 }
    },
    
    // –ü—É–ª—å—Å–∏—Ä—É—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –≤–∞–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    glowPulse: {
      boxShadow: [
        '0 0 20px rgba(52, 211, 153, 0.3)',
        '0 0 40px rgba(52, 211, 153, 0.6)',
        '0 0 20px rgba(52, 211, 153, 0.3)'
      ],
      transition: {
        duration: 2,
        repeat: Infinity,
        ease: 'easeInOut'
      }
    }
  }
}
```

#### **Glass Morphism & Depth System**
```typescript
// –°–∏—Å—Ç–µ–º–∞ —Å—Ç–µ–∫–ª—è–Ω–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (–Ω–∞ –æ—Å–Ω–æ–≤–µ HomePage backdrop-blur)
interface GlassMorphismSystem {
  // –£—Ä–æ–≤–Ω–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
  opacity: {
    subtle: 'bg-zinc-900/50 backdrop-blur-sm',      // –ö–∞—Ä—Ç–æ—á–∫–∏
    medium: 'bg-zinc-800/80 backdrop-blur-md',      // –ü–∞–Ω–µ–ª–∏
    strong: 'bg-zinc-900/80 backdrop-blur-lg',      // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
  }
  
  // –†–∞–º–∫–∏ –∏ –≥—Ä–∞–Ω–∏—Ü—ã (–∫–∞–∫ –≤ HomePage)
  borders: {
    card: 'border border-zinc-700',                 // –û–±—ã—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏
    accent: 'border border-emerald-700/50',         // –ê–∫—Ü–µ–Ω—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏
    interactive: 'border border-zinc-700/50 hover:border-zinc-600/70'
  }
}

// –ì–æ—Ç–æ–≤—ã–µ glass –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–∞–∫ –≤ HomePage)
const GLASS_COMPONENTS = {
  card: 'bg-zinc-900/50 border border-zinc-700',
  statusCard: 'bg-gradient-to-r from-emerald-900/40 to-blue-900/40 border-emerald-700/50',
  actionCard: 'backdrop-blur-sm transition-all duration-200',
  modal: 'bg-zinc-900/80 backdrop-blur-lg border border-zinc-600/50'
}
```

### **Component System & Design Tokens**
```typescript
// –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞ –æ—Å–Ω–æ–≤–µ HomePage)
const ANIMATED_COMPONENTS = {
  // AnimatedCard —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
  AnimatedCard: {
    variants: ['default', 'glow', 'status', 'interactive'],
    animations: {
      default: 'hover:scale-105 hover:shadow-lg',
      glow: 'animate-pulse shadow-emerald-500/20',
      status: 'hover:y-[-2px] transition-all duration-200',
      interactive: 'whileHover={{ y: -4 }} whileTap={{ scale: 0.95 }}'
    }
  },
  
  // MotionContainer –¥–ª—è stagger —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (QuickActions grid)
  MotionContainer: {
    staggerDelay: 0.1,
    childVariants: 'fadeIn',
    gridLayout: 'grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4'
  },
  
  // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  StatCard: {
    layout: 'flex items-center justify-center mb-2',
    hoverEffect: 'whileHover={{ y: -2 }}',
    iconColors: {
      target: 'text-purple-400',
      trending: 'text-emerald-400',
      calendar: 'text-blue-400',
      award: 'text-yellow-400'
    }
  }
}
```

### **Typography System**
```typescript
// –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ HomePage)
interface TypographySystem {
  // –ò–µ—Ä–∞—Ä—Ö–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
  headings: {
    h1: 'text-4xl font-bold text-zinc-100',        // QR-Boost –∑–∞–≥–æ–ª–æ–≤–æ–∫
    h2: 'text-xl font-semibold text-zinc-100',     // –°—Ç–∞—Ç—É—Å –∏–≥—Ä–æ–∫–∞
    h3: 'text-lg font-semibold text-zinc-100',     // –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
    section: 'text-xl font-semibold text-zinc-100 mb-4' // –°–µ–∫—Ü–∏–∏
  }
  
  // –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
  body: {
    primary: 'text-zinc-100',                      // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
    secondary: 'text-zinc-400',                    // –û–ø–∏—Å–∞–Ω–∏—è
    accent: 'text-emerald-300',                    // –ê–∫—Ü–µ–Ω—Ç—ã (—Ñ–∞–∑–∞ –∏–≥—Ä–æ–∫–∞)
    muted: 'text-zinc-400'                         // –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
  }
  
  // UI —ç–ª–µ–º–µ–Ω—Ç—ã
  ui: {
    button: 'font-medium text-zinc-100 text-sm',   // –ö–Ω–æ–ø–∫–∏
    stat: 'text-lg font-semibold text-zinc-100',   // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    badge: 'text-2xl font-bold text-emerald-400',  // –ó–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    caption: 'text-xs text-zinc-400'               // –ü–æ–¥–ø–∏—Å–∏
  }
}
```

### **Responsive & Mobile-First Design**
```typescript
// –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ HomePage grid layouts)
interface ResponsiveSystem {
  // –°–µ—Ç–∫–∏ HomePage
  layouts: {
    dashboard: {
      mobile: 'max-w-6xl mx-auto p-4',
      spacing: 'mb-8'
    },
    
    quickActions: {
      mobile: 'grid-cols-2',
      tablet: 'md:grid-cols-3', 
      desktop: 'lg:grid-cols-6',
      gap: 'gap-4'
    },
    
    statsGrid: {
      mobile: 'grid-cols-2',
      tablet: 'md:grid-cols-4',
      gap: 'gap-4'
    },
    
    contentGrid: {
      mobile: 'grid',
      tablet: 'md:grid-cols-2',
      gap: 'gap-6'
    }
  }
  
  // –†–∞–∑–º–µ—Ä—ã touch-—ç–ª–µ–º–µ–Ω—Ç–æ–≤
  touchTargets: {
    minimum: '44px',                               // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
    quickAction: 'p-4',                           // Padding –¥–ª—è QuickActions
    icon: 'size={32}',                            // –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–æ–∫
  }
}
```

## üìä –°–∏—Å—Ç–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö

### **Convex Schema**
```typescript
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- users: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª–∏
- player_state: —Ñ–∞–∑–∞, —Ä–µ–ø—É—Ç–∞—Ü–∏—è, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
- quest_progress: —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤
- map_points: –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–π
- quest_registry: –∫–∞—Ç–∞–ª–æ–≥ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤
- mappoint_bindings: –ø—Ä–∏–≤—è–∑–∫–∏ —Ç–æ—á–µ–∫ –∫ –∫–≤–µ—Å—Ç–∞–º
- world_state: –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞
```

### **State Management**
- **Zustand —Å—Ç–æ—Ä—ã** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞
- **Persistence** —á–µ—Ä–µ–∑ localStorage –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞
- **Optimistic updates** –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞

### **Caching Strategy**
- **Multi-tier caching**: device storage ‚Üí memory ‚Üí edge cache
- **Predictive loading** –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
- **TTL policies** –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### **Build System**
- **Vite** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–±–æ—Ä–∫–∏
- **TypeScript** —Å strict mode –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **ESLint + Prettier** –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

### **Testing Infrastructure**
- **Vitest** –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤
- **React Testing Library** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- **Contract testing** –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ —Å Zod —Å—Ö–µ–º–∞–º–∏

### **DevOps & Monitoring**
- **Feature flags** –¥–ª—è –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ rollout
- **Performance monitoring** FPS, memory usage, bundle size
- **Error tracking** –∏ alerting —Å–∏—Å—Ç–µ–º–∞

## üéØ Roadmap –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### **Technical KPIs**
- **Bundle size** < 500KB gzipped
- **Lighthouse score** > 90 –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
- **Event consistency** 99.9% uptime
- **Offline capability** 100% –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### **Game KPIs**
- **Player retention** D1: 70%, D7: 40%, D30: 20%
- **Quest completion rate** > 80% –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤
- **Combat engagement** —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ > 15 –º–∏–Ω—É—Ç
- **Location discovery** > 50 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π –≤ –º–µ—Å—è—Ü

---

*–≠—Ç–æ—Ç GDD –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –∏–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Grenzwanderer. –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö scalability, maintainability –∏ engaging gameplay.*

## üõ£Ô∏è Project Roadmap & Development Timeline

### **–§–∞–∑–∞ 0: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–ù–æ—è–±—Ä—å 2024)**
**"–û—Ç –∏–¥–µ–∏ –¥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"**

#### ‚úÖ Completed:
- [x] **–°–æ–∑–¥–∞–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** `grenzwanderer`
- [x] **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞** —Å Vite + React 19 + TypeScript
- [x] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—Ç–µ–∫–∞**:
  - React 19 + TypeScript + Vite
  - Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
  - ESLint + Prettier –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- [x] **–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫** –ø–æ FSD –ø—Ä–∏–Ω—Ü–∏–ø–∞–º
- [x] **–ü–µ—Ä–≤—ã–π commit** –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—á–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å hot reload –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π.

---

### **–§–∞–∑–∞ 1: Foundation & Core Systems (–î–µ–∫–∞–±—Ä—å 2024)**
**"–°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –∏–≥—Ä—ã"**

#### ‚úÖ Completed:
- [x] **Convex Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ real-time –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –°—Ö–µ–º–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤, –∫–≤–µ—Å—Ç–æ–≤, —Ç–æ—á–µ–∫ –∫–∞—Ä—Ç—ã
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Clerk
- [x] **–ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ FSD**
  - `/entities/` –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
  - `/shared/` –¥–ª—è –æ–±—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - `/pages/` –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - `/widgets/` –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö UI –±–ª–æ–∫–æ–≤
- [x] **Core UI System**
  - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: AnimatedCard, MotionContainer, TypewriterText
  - Framer Motion –∞–Ω–∏–º–∞—Ü–∏–∏
  - Responsive design —Å –º–æ–±–∏–ª—å–Ω—ã–º —Ñ–æ–∫—É—Å–æ–º
- [x] **Event System Architecture**
  - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π
  - Outbox pattern –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞
  - Event sourcing –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

#### üèóÔ∏è Key Files Created:
```
‚îú‚îÄ‚îÄ client/src/app/ConvexProvider.tsx
‚îú‚îÄ‚îÄ client/src/shared/lib/events/eventBus.ts
‚îú‚îÄ‚îÄ client/src/shared/lib/outbox.ts
‚îú‚îÄ‚îÄ client/src/shared/ui/AnimatedCard.tsx
‚îú‚îÄ‚îÄ client/convex/schema.ts
‚îî‚îÄ‚îÄ client/package.json (–æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ—á–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞ —Å real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.

---

### **–§–∞–∑–∞ 2: Core Gameplay Features (–Ø–Ω–≤–∞—Ä—å 2025)**
**"–û—Å–Ω–æ–≤–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏"**

#### ‚úÖ Completed:

##### **Visual Novel System**
- [x] **–î–∏–∞–ª–æ–≥–æ–≤—ã–π –¥–≤–∏–∂–æ–∫** (`entities/visual-novel/`)
  - Zustand store –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
  - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: DialogueBox, CharacterSprites, ChoiceMenu
  - –°–∏—Å—Ç–µ–º–∞ —ç–º–æ—Ü–∏–π –∏ –∞–Ω–∏–º–∞—Ü–∏–π –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- [x] **–ö–æ–Ω—Ç–µ–Ω—Ç –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏**
  - 12+ –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å –∫–≤–µ—Å—Ç–æ–≤—ã–º–∏ —Å—é–∂–µ—Ç–∞–º–∏
  - –°–∏—Å—Ç–µ–º–∞ –≤—ã–±–æ—Ä–æ–≤ —Å –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π

##### **Quest System**
- [x] **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤** (`entities/quest/`)
  - Event sourcing –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  - State machines –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤
  - –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –∫–≤–µ—Å—Ç–∞–º–∏
- [x] **Quest Progress Management**
  - Action coordinator –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
  - –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏ outcomes
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–∏–∞–ª–æ–≥–∞–º–∏

##### **Map System**
- [x] **Mapbox –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (`widgets/MapWidget/`)
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏
  - –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –°–∏—Å—Ç–µ–º–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ç–æ—á–µ–∫ –ø–æ —Ñ–∞–∑–∞–º –∏–≥—Ä–æ–∫–∞
- [x] **Map Point Management**
  - Spatial indexing —á–µ—Ä–µ–∑ geohash
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–∏–º—ã—Ö —Ç–æ—á–µ–∫
  - Tooltip —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è POI

#### üèóÔ∏è Key Files Created:
```
‚îú‚îÄ‚îÄ client/src/entities/visual-novel/model/store.ts
‚îú‚îÄ‚îÄ client/src/entities/quest/domain/projection.ts
‚îú‚îÄ‚îÄ client/src/widgets/MapWidget/model/useClientVisiblePoints.ts
‚îú‚îÄ‚îÄ client/src/shared/storage/ (12 –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤)
‚îî‚îÄ‚îÄ client/convex/quests.ts
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –Ω–æ–≤–µ–ª–ª–∞ —Å –∫–≤–µ—Å—Ç–∞–º–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ–π.

---

### **–§–∞–∑–∞ 3: Combat & Inventory (–§–µ–≤—Ä–∞–ª—å 2025)**
**"–ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏"**

#### ‚úÖ Completed:

##### **Card-Based Combat System**
- [x] **–ë–æ–µ–≤–æ–π –¥–≤–∏–∂–æ–∫** (`entities/combat/`)
  - –ö–∞—Ä—Ç–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —ç–Ω–µ—Ä–≥–∏–µ–π –∏ —Ö–æ–¥–∞–º–∏
  - –ò–ò –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  - –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- [x] **–ö–∞—Ä—Ç—ã –∏ –∫–æ–ª–æ–¥—ã**
  - 20+ –±–æ–µ–≤—ã—Ö –∫–∞—Ä—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
  - Deck builder –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–ª–æ–¥
  - –°–∏—Å—Ç–µ–º–∞ –∞–º—É–Ω–∏—Ü–∏–∏ –∏ –æ—Ä—É–∂–∏—è
- [x] **Combat UI**
  - Drag & Drop –¥–ª—è –∫–∞—Ä—Ç
  - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–µ –±–æ—è
  - Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

##### **Inventory System**
- [x] **–°–∏—Å—Ç–µ–º–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è** (`entities/inventory/`)
  - Grid-based —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
  - –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- [x] **Equipment Management**
  - –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è
  - –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤
  - –°–∏—Å—Ç–µ–º–∞ –≤–µ—Å–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

#### üèóÔ∏è Key Files Created:
```
‚îú‚îÄ‚îÄ client/src/entities/combat/model/store.ts
‚îú‚îÄ‚îÄ client/src/entities/combat/ui/EnhancedCombatView.tsx
‚îú‚îÄ‚îÄ client/src/entities/inventory/model/store.ts
‚îú‚îÄ‚îÄ client/src/entities/inventory/ui/EnhancedInventoryGrid.tsx
‚îî‚îÄ‚îÄ client/src/pages/EnhancedCombatPage.tsx
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ–º.

---

### **–§–∞–∑–∞ 4: User Experience & Polish (–ú–∞—Ä—Ç 2025)**
**"–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞"**

#### ‚úÖ Completed:

##### **Enhanced HomePage**
- [x] **Dashboard –¥–∏–∑–∞–π–Ω** —Å —Ç–µ–º–Ω–æ–π cyberpunk —ç—Å—Ç–µ—Ç–∏–∫–æ–π
- [x] **Player Status Card** —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- [x] **Quick Actions Grid** —Å 6 –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- [x] **Active Quests List** —Å real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- [x] **System Status** —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

##### **Navigation & Layout**
- [x] **Responsive navigation** (`widgets/Navbar/`)
- [x] **Layout —Å–∏—Å—Ç–µ–º—ã** (MainLayout, FullScreenLayout)
- [x] **Page routing** —Å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏

##### **QR Scanning Foundation**
- [x] **QR Scan —Å—Ç—Ä–∞–Ω–∏—Ü–∞** –∑–∞–≥–æ—Ç–æ–≤–∫–∞
- [x] **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è QR –∫–æ–¥–æ–≤
- [x] **Camera access** –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

#### üèóÔ∏è Key Files Created:
```
‚îú‚îÄ‚îÄ client/src/pages/HomePage.tsx
‚îú‚îÄ‚îÄ client/src/widgets/Navbar/Navbar.tsx
‚îú‚îÄ‚îÄ client/src/app/layouts/MainLayout.tsx
‚îú‚îÄ‚îÄ client/src/pages/QRScanPage.tsx
‚îî‚îÄ‚îÄ client/src/shared/api/qr/convex.ts
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π.

---

## üéØ **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–°–µ–Ω—Ç—è–±—Ä—å 2025)**

### **‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**

#### **Core Systems (100% functional)**
- ‚úÖ **Visual Novel** - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ **Quest Management** - —Å–ª–æ–∂–Ω—ã–µ –∫–≤–µ—Å—Ç—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏  
- ‚úÖ **Combat System** - –∫–∞—Ä—Ç–æ—á–Ω—ã–µ –±–æ–∏ —Å –ò–ò
- ‚úÖ **Inventory** - grid-based —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
- ‚úÖ **Map Widget** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π
- ‚úÖ **Authentication** - Clerk –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ **Real-time sync** - Convex backend

#### **UI/UX (95% functional)**
- ‚úÖ **HomePage** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π dashboard
- ‚úÖ **Navigation** - responsive –º–µ–Ω—é
- ‚úÖ **Animations** - Framer Motion transitions
- ‚úÖ **Mobile-first** - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

#### **Developer Experience (100%)**
- ‚úÖ **Hot reload** - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ **TypeScript** - –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ **FSD Architecture** - –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ **Testing setup** - Vitest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ **Linting** - ESLint + boundaries plugin

### **‚ö†Ô∏è –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ/—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ:**
- üîß **QR Scanning** - –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ—Å—Ç—å, –Ω—É–∂–Ω–∞ –∫–∞–º–µ—Ä–∞
- üîß **PWA features** - offline capabilities
- üîß **Settings Page** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üöÄ **Roadmap –±—É–¥—É—â–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è**

### **–§–∞–∑–∞ 5: Location-Based Core (Q4 2025)**
**"–ì–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ"**

#### üéØ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- [ ] **Path Tracking System** (`features/path-tracking/`)
  - `useRouteRecorder` –¥–ª—è –∑–∞–ø–∏—Å–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π
  - Douglas-Peucker –∫–æ–º–ø—Ä–µ—Å—Å–∏—è —Ç—Ä–µ–∫–æ–≤
  - –ì–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥ –∑–æ–Ω —á–µ—Ä–µ–∑ –≥–µ–æ—Ö–µ—à
- [ ] **Zone Discovery** (`features/zone-discovery/`)
  - API `exploration.commitTrace` (Convex)
  - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ POI –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞
  - –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤: not_found ‚Üí discovered ‚Üí researched
- [ ] **POI Inspection** (`features/poi-inspection/`)
  - QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ç–æ—á–µ–∫
  - API `exploration.markResearched`
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏ –∏ —Ñ–ª–∞–≥–∞–º–∏

#### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```typescript
// –ù–æ–≤—ã–µ entities
entities/route/                 # –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤
‚îú‚îÄ‚îÄ model/compression.ts        # DP –∫–æ–º–ø—Ä–µ—Å—Å–∏—è
‚îú‚îÄ‚îÄ api/routeApi.ts            # Convex –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ ui/RouteVisualization.tsx  # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Ç–∏

// –ù–æ–≤—ã–µ features  
features/path-tracking/         # –ó–∞–ø–∏—Å—å –º–∞—Ä—à—Ä—É—Ç–æ–≤
features/zone-discovery/        # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–æ–Ω  
features/poi-inspection/        # –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫

// –ù–æ–≤—ã–π shared —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
shared/lib/geoutils/           # –ì–µ–æ—É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ geohash.ts                 # –ì–µ–æ—Ö–µ—à —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ douglasPeucker.ts          # –ö–æ–º–ø—Ä–µ—Å—Å–∏—è —Ç—Ä–µ–∫–æ–≤
‚îî‚îÄ‚îÄ zoneUtils.ts               # –ó–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

// Convex schema —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
point_discoveries: {           # –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞
  deviceId, userId, pointKey,
  discoveredAt, researchedAt
}
```

**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å —Ç—Ä–µ–∫–∏–Ω–≥–æ–º.

---

### **–§–∞–∑–∞ 6: Phone Points & Discovery UI (Q1 2026)**
**"–ú–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"**

#### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:
- [ ] **Phone Points** (`features/phone-points/`)
  - –°–ø–∏—Å–æ–∫ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ç–æ—á–µ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - –°—Ç–∞—Ç—É—Å—ã discovered/researched
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞—Ä—Ç–æ–π –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- [ ] **Enhanced QR Scanner**
  - Camera API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
  - AR overlay –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - Offline QR code validation
- [ ] **Discovery Notifications**
  - Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∑–æ–Ω—ã
  - Achievement —Å–∏—Å—Ç–µ–º–∞
  - Progress tracking

#### üîß UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```typescript
features/phone-points/ui/
‚îú‚îÄ‚îÄ PointsList.tsx             # –°–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫
‚îú‚îÄ‚îÄ PointFilters.tsx           # –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É/—Ç–∏–ø—É
‚îú‚îÄ‚îÄ PointItem.tsx              # –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ—á–∫–∏
‚îî‚îÄ‚îÄ StatusBadges.tsx           # –ë–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤

features/qr-scanning/ui/
‚îú‚îÄ‚îÄ QRCamera.tsx               # –ö–∞–º–µ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ ScanOverlay.tsx            # AR –æ–≤–µ—Ä–ª–µ–π
‚îî‚îÄ‚îÄ QRResult.tsx               # –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```

**–¶–µ–ª—å:** –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

---

### **–§–∞–∑–∞ 7: PWA & Offline Excellence (Q2 2026)**
**"Progressive Web App –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏"**

#### üéØ PWA Features:
- [ ] **Service Worker Setup**
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞—Å—Å–µ—Ç–æ–≤
  - Background sync –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
  - Offline gameplay core functions
- [ ] **Push Notifications**
  - –ì–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
  - Quest completion alerts
  - World events notifications
- [ ] **Install Prompt**
  - Add to homescreen experience
  - App icon –∏ splash screen
  - Native-like navigation

#### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```typescript
// PWA –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
vite.config.ts                 # PWA plugin setup
public/manifest.json           # App manifest
sw.ts                          # Service worker

// Offline capabilities
shared/lib/storage/
‚îú‚îÄ‚îÄ indexedDB.ts              # –ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ localStorage.ts           # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ  
‚îî‚îÄ‚îÄ cacheManager.ts           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º

// Background sync
shared/lib/sync/
‚îú‚îÄ‚îÄ backgroundSync.ts         # –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ conflictResolution.ts     # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
‚îî‚îÄ‚îÄ syncStrategies.ts         # –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
```

**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ PWA —Å –æ—Ñ–ª–∞–π–Ω –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

---

### **–§–∞–∑–∞ 8: Advanced Features (Q3 2026)**
**"–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∏–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏"**

#### üéØ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- [ ] **Multiplayer Events**
  - –°–æ–≤–º–µ—Å—Ç–Ω—ã–µ –∫–≤–µ—Å—Ç—ã —Ä—è–¥–æ–º –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –∏–≥—Ä–æ–∫–æ–≤
  - World events —Å –≥—Ä—É–ø–ø–æ–≤—ã–º —É—á–∞—Å—Ç–∏–µ–º
  - –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã
- [ ] **Advanced Combat**
  - PvP —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–æ–Ω–∞—Ö
  - Clan —Å–∏—Å—Ç–µ–º–∞ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ –±–æ–∏
  - Seasonal events –∏ —Ç—É—Ä–Ω–∏—Ä—ã
- [ ] **Economic System**
  - –¢–æ—Ä–≥–æ–≤–ª—è –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ü–µ–Ω—ã –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã
  - Crafting –∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

#### üîß –ù–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã:
```typescript
entities/multiplayer/          # –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä
entities/economy/              # –≠–∫–æ–Ω–æ–º–∏–∫–∞
entities/world/                # –ú–∏—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

features/trading/              # –¢–æ—Ä–≥–æ–≤–ª—è
features/crafting/             # –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ
features/social/               # –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

**–¶–µ–ª—å:** –ë–æ–≥–∞—Ç—ã–π multiplayer –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç.

---

### **–§–∞–∑–∞ 9: Content & Balance (Q4 2026)**
**"–ö–æ–Ω—Ç–µ–Ω—Ç –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞"**

#### üéØ –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ —Ü–µ–ª–∏:
- [ ] **Expanded World**
  - 500+ —Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –≤ Freiburg
  - 10+ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–π–æ–Ω–æ–≤ –≥–æ—Ä–æ–¥–∞
  - –°–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∏—Ä–∞
- [ ] **Quest Content**
  - 100+ –∫–≤–µ—Å—Ç–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤
  - –°–ª–æ–∂–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏ –∑–∞–¥–∞–Ω–∏–π
  - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–æ–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—é–∂–µ—Ç–∞
- [ ] **Balance & Analytics**
  - –°–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
  - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

**–¶–µ–ª—å:** –û–±—à–∏—Ä–Ω—ã–π –∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π –º–∏—Ä.

---

### **–§–∞–∑–∞ 10: Polish & Launch (Q1 2027)**
**"–ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫"**

#### üéØ –ü—Ä–µ–¥—Ä–µ–ª–∏–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏:
- [ ] **Performance Optimization**
  - Bundle size optimization
  - Memory leak prevention
  - Battery usage optimization
- [ ] **Accessibility**
  - Screen reader support
  - Keyboard navigation
  - Color blind friendly design
- [ ] **Localization**
  - English translation
  - German localization
  - Cultural adaptation
- [ ] **Marketing & Community**
  - Beta testing program
  - Community Discord
  - Launch campaign

**–¶–µ–ª—å:** –ì–æ—Ç–æ–≤—ã–π –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É —Ä–µ–ª–∏–∑—É –ø—Ä–æ–¥—É–∫—Ç.

---

## üìà **–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –ø–æ —Ñ–∞–∑–∞–º**

### **Immediate Goals (–§–∞–∑–∞ 5)**
- [ ] üìç **20+ —Ç–æ—á–µ–∫** –º–æ–∂–Ω–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —á–µ—Ä–µ–∑ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
- [ ] üö∂ **Path tracking** —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- [ ] üì± **QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

### **Medium-term Goals (–§–∞–∑–∞ 6-7)**
- [ ] üì± **PWA install** –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö  
- [ ] üîÑ **Offline mode** –¥–ª—è core —Ñ—É–Ω–∫—Ü–∏–π
- [ ] üèÜ **Achievement —Å–∏—Å—Ç–µ–º–∞** –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

### **Long-term Goals (–§–∞–∑–∞ 8-10)**
- [ ] üë• **100+ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤** –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
- [ ] üåç **Multiplayer —Å–æ–±—ã—Ç–∏—è** –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- [ ] ‚≠ê **4.5+ —Ä–µ–π—Ç–∏–Ω–≥** –≤ app stores

---

## üõ†Ô∏è **Development Guidelines**

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **FSD First** - –≤—Å–µ–≥–¥–∞ —Å–ª–µ–¥–æ–≤–∞—Ç—å Feature-Sliced Design
2. **Mobile First** - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –º–æ–±–∏–ª—å–Ω–æ–≥–æ –æ–ø—ã—Ç–∞
3. **Type Safety** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
4. **Performance** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
5. **Accessibility** - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è

### **–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
1. **Feature Branch** –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π —Ñ–∏—á–∏
2. **Code Review** –ø–µ—Ä–µ–¥ merge –≤ main
3. **Testing** - unit tests –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ª–æ–≥–∏–∫–∏
4. **Documentation** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Plan.md –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. **Incremental** - –º–∞–ª–µ–Ω—å–∫–∏–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏ regular deploys

### **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è:**
- üî• **P0**: Core location-based gameplay
- ‚ö° **P1**: PWA capabilities –∏ offline mode  
- üé® **P2**: Advanced features –∏ multiplayer
- ‚ú® **P3**: Polish –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

---

*–≠—Ç–æ—Ç roadmap –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ—ç—Ç–∞–ø–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ Grenzwanderer –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ location-based PWA —Å –±–æ–≥–∞—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.*

–¶–µ–ª–∏

–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ø—É—Ç–∏: –ª–æ–∫–∞–ª—å–Ω–æ –∫–æ–ø–∏—Ç—å —Ç—Ä–µ–∫ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≥–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥.
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∑–æ–Ω—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–µ–∂–∏–π —Å–µ–≥–º–µ–Ω—Ç –ø—É—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
–î–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞: —Å–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–æ—à—ë–ª –∏–≥—Ä–æ–∫, –∏ —Ç–æ—á–∫–∏ –∑–æ–Ω—ã.
–°–æ—Å—Ç–æ—è–Ω–∏—è —Ç–æ—á–µ–∫: not_found ‚Üí discovered ‚Üí researched, —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –Ω–∞ ‚Äú—Ç–µ–ª–µ—Ñ–æ–Ω–µ‚Äù.
–†–∞–∑—Ä–µ–∑ –ø–æ FSD

Entities:
entities/map-point: —Å—Ç–∞—Ç—É—Å —Ç–æ—á–∫–∏ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è.
entities/route (–Ω–æ–≤–æ–µ): —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è —Ç—Ä–µ–∫–æ–≤, —Ç–∞–π–º–ª–∞–π–Ω—ã, –∫–æ–º–ø—Ä–µ—Å—Å–∏—è.
Features:
features/path-tracking: –∑–∞–ø–∏—Å—å –∏ –¥–µ–±–∞—É–Ω—Å —Ç—Ä–µ–∫–∞, —Ç—Ä–∏–≥–≥–µ—Ä—ã –≤—Ö–æ–¥–∞ –≤ –∑–æ–Ω—É.
features/zone-discovery: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–µ–∫–∞, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (–≤–∏–¥–∏–º–æ—Å—Ç—å/—Å—Ç–∞—Ç—É—Å—ã).
features/poi-inspection: –ø–æ–º–µ—Ç–∫–∞ researched –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏/QR.
features/phone-points: —Å–ø–∏—Å–æ–∫/—Ñ–∏–ª—å—Ç—Ä —Ç–æ—á–µ–∫ –∏ —Å—Ç–∞—Ç—É—Å—ã –Ω–∞ ‚Äú—Ç–µ–ª–µ—Ñ–æ–Ω–µ‚Äù.
Processes:
processes/exploration: –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–µ–∫–∏–Ω–≥–∞, —Å–∏–Ω–∫–∞ –∏ UI.
Widgets/Pages:
widgets/MapWidget —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π ‚Äúdiscovered/researched‚Äù.
–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞: —Å–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã (–º–æ–∂–Ω–æ –≤ pages/MapPage.tsx:1 –∏–ª–∏ –Ω–æ–≤–∞—è).
Shared:
shared/lib/geoutils (–Ω–æ–≤–æ–µ): –≥–µ–æ—Ö–µ—à/DP-–∫–æ–º–ø—Ä–µ—Å—Å–∏—è/–ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ –ª–∏–Ω–∏–∏.
shared/lib/outbox –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω –±–∞—Ç—á–µ–π (client/src/shared/lib/outbox.ts:1).
shared/api/exploration/convex.ts (–Ω–æ–≤–æ–µ): –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã commitTrace, markResearched.
–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (Convex)

–¢–∞–±–ª–∏—Ü—ã (client/convex/schema.ts:1):
point_discoveries: { deviceId?, userId?, pointKey, discoveredAt, researchedAt, updatedAt } —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –ø–æ (deviceId, pointKey) –∏ (userId, pointKey).
zones (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): { key, kind: 'circle'|'polygon'|'geohash', shape, updatedAt } –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–æ-—è—á–µ–π–∫–∏ –±–µ–∑ —Ç–∞–±–ª–∏—Ü—ã (—Å–º. –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∏–∂–µ).
player_traces (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N —Å–µ–≥–º–µ–Ω—Ç–æ–≤/—Å–∂–∞—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏/–ø—Ä–æ–≤–µ—Ä–∫–∏.
–°–æ—Å—Ç–æ—è–Ω–∏—è —Ç–æ—á–µ–∫:
not_found: –Ω–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ point_discoveries.
discovered: –µ—Å—Ç—å discoveredAt, –Ω–µ—Ç researchedAt.
researched: –µ—Å—Ç—å researchedAt.
–ò—Å—Ç–æ—á–Ω–∏–∫ —Ç–æ—á–µ–∫:
–ë—Ä–∞—Ç—å –∏–∑ map_points (–µ—Å—Ç—å), —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ñ–∞–∑–µ/–ø—Ä–∏–≤—è–∑–∫–∞–º (–µ—Å—Ç—å –≤ mappoint_bindings –∏ –º–µ—Ö–∞–Ω–∏–∫–∞—Ö –≤–∏–¥–∏–º–æ—Å—Ç–∏).
–ë—ç–∫–µ–Ω–¥ (Convex)

–ù–æ–≤—ã–π –º–æ–¥—É–ª—å exploration.ts:
commitTrace(args): { deviceId, userId?, zoneKey?, trace: Array<{lat,lng,t}> | {geohashSet: string[]}, bbox?: {minLat,maxLat,minLng,maxLng} }
–°–µ—Ä–≤–µ—Ä: –¥–æ—Å—Ç–∞—ë—Ç —Ç–æ—á–∫–∏ –≤ –∑–æ–Ω–µ (–ø–æ zoneKey/geohash/bbox), –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–ª–∏–∑–æ—Å—Ç—å –∫ –ø—É—Ç–∏ (—Ä–∞–¥–∏—É—Å ~20‚Äì30–º), –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç point_discoveries.discoveredAt (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
discoveredPoints: Array<{ key, title, coordinates, ... }>
zonePoints: Array<{ ... }> ‚Äî –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–æ—á–∫–∏ –∑–æ–Ω—ã (–¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏).
TTL –∏ –≤–µ—Ä—Å–∏—è –¥–ª—è –∫—ç—à–∞ (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å serverVisiblePoints).
markResearched(args): { deviceId, userId?, pointKey }
–°–µ—Ä–≤–µ—Ä: –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç researchedAt (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ), –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –Ω–∞–≥—Ä–∞–¥—É/—Ñ–ª–∞–≥–∏ (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º).
–ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏:
–õ–∏–±–æ –≤–µ—Ä–Ω—É—Ç—å visiblePoints –ø—Ä—è–º–æ –∏–∑ commitTrace (—É–¥–æ–±–Ω–æ ‚Äî –µ–¥–∏–Ω—ã–π –æ—Ç–≤–µ—Ç), –ª–∏–±–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å mapPoints.listVisible –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ quests.commitScene (client/convex/quests.ts:1) ‚Äî –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç —Å–ª–æ–∂–Ω–µ–µ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º –≤—ã–∑–æ–≤–æ–≤.
–í–∞–ª–∏–¥–∞—Ü–∏—è:
–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ (deviceId, pointKey).
–ì—Ä—É–±–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Å—Ç–Ω–æ—Å—Ç–∏: —Ç–æ—á–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ distanceToPath <= R –ò–õ–ò –º–∏–Ω–∏–º—É–º –æ–¥–∏–Ω —Å–µ–º–ø–ª ‚â§ R (–±–µ–∑ —Ç—è–∂—ë–ª–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏).
–î–µ–≤/–°–∏–¥–∏–Ω–≥:
zones.seedDev (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –∑–æ–Ω—ã), mapPoints.seed... —É–∂–µ –µ—Å—Ç—å (client/convex/mapPoints.ts:1).
–ö–ª–∏–µ–Ω—Ç

–¢—Ä–µ–∫–∏–Ω–≥ (features/path-tracking):
useRouteRecorder: navigator.geolocation.watchPosition —Å:
enableHighAccuracy: false, maxAge: 5‚Äì10—Å, timeout: 10‚Äì15—Å.
–§–∏–ª—å—Ç—Ä ‚Äú—à–∞–≥‚Äù: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–¥–≤–∏–≥ ‚âà 8‚Äì15–º, —Å–∫–æ—Ä–æ—Å—Ç—å > 0.3 –º/—Å, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —à—É–º–æ–≤.
–ö–æ–º–ø—Ä–µ—Å—Å–∏—è: Douglas‚ÄìPeucker –¥–æ 5‚Äì10–º, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ N —Ç–æ—á–µ–∫/–º–∏–Ω—É—Ç—É.
–ì–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥ –∑–æ–Ω—ã:
–í–∞—Ä–∏–∞–Ω—Ç 1: –≥–µ–æ—Ö–µ—à-—è—á–µ–π–∫–∏ (–¥–ª–∏–Ω–∞ 7‚Äì8; ~150‚Äì38–º) ‚Äî –≤—Ö–æ–¥ –≤ –Ω–æ–≤—É—é —è—á–µ–π–∫—É => ‚Äú–∑–æ–Ω–∞‚Äù.
–í–∞—Ä–∏–∞–Ω—Ç 2: –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∫—Ä—É–≥–∏/–ø–æ–ª–∏–≥–æ–Ω—ã (–∫–æ–Ω—Ñ–∏–≥ shared/config/zones.ts).
–í–∞—Ä–∏–∞–Ω—Ç 3: BBox –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∫–∞—Ä—Ç—ã –∫–∞–∫ –∑–æ–Ω–∞ (–ø—Ä–æ—Å—Ç–æ –∏ –¥–µ—à–µ–≤–æ).
–§–ª–∞—à —Å–µ–≥–º–µ–Ω—Ç–∞:
–ü—Ä–∏ —Å–º–µ–Ω–µ –∑–æ–Ω—ã –∏–ª–∏ —Ä–∞–∑ –≤ N –º–∏–Ω—É—Ç: —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å payload –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å exploration.commitTrace. –ü—Ä–∏ –æ—Ñ—Ñ–ª–∞–π–Ω–µ ‚Äî outbox (client/src/shared/lib/outbox.ts:1), –¥–æ–±–∞–≤–∏—Ç—å type: 'trace'.
–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (features/zone-discovery):
–û–±–Ω–æ–≤–∏—Ç—å useGameDataStore.setServerVisiblePoints(...) –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ (client/src/app/ConvexProvider.tsx:1, client/src/widgets/MapWidget/model/useClientVisiblePoints.ts:1).
–û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–æ–≤ —Ç–æ—á–µ–∫ usePoiStatusStore (–Ω–æ–≤—ã–π) –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ localStorage –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω–∞.
–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ ‚Äúresearched‚Äù (features/poi-inspection):
–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä/—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ QR: –≤—ã–∑—ã–≤–∞—Ç—å markResearched (–∏ –≤ outbox –ø—Ä–∏ –æ—Ñ—Ñ–ª–∞–π–Ω–µ). –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ª–æ–≥–∏–∫—É –∫–ª–∏–∫–∞ (useMarkers, client/src/widgets/MapWidget/model/useMarkers.tsx:1) –∏ –≤ QR (client/src/shared/api/qr/convex.ts:1).
–¢–µ–ª–µ—Ñ–æ–Ω (features/phone-points):
UI-—Å–ø–∏—Å–æ–∫: —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É/—Ç–∏–ø—É/–¥–∏—Å—Ç–∞–Ω—Ü–∏–∏; –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è ‚Äú–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å‚Äù.
–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ: MapWidget –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Å—Ç–∏–ª—å –¥–ª—è discovered/researched (client/src/widgets/MapWidget/MapWidget.tsx:1).
–ö–æ–Ω—Ç—Ä–∞–∫—Ç API:
shared/api/exploration/convex.ts: commitTrace, markResearched, —Ç–æ–Ω–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å deviceId (client/src/shared/lib/deviceId.ts:1) –∏ convexClient.
–°–æ—Å—Ç–æ—è–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–∫—É—â–∏–º–∏ –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏

–í–∏–¥–∏–º–æ—Å—Ç—å:
–°–µ—Ä–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç (visiblePoints + ttlMs) —É–∂–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ useClientVisiblePoints —á–µ—Ä–µ–∑ serverVisiblePoints (client/src/widgets/MapWidget/model/useClientVisiblePoints.ts:1). –ü—Ä–æ—Å—Ç–æ –ø–æ–¥–∞–π—Ç–µ ttlMs –∏ —Å–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫ –∏–∑ commitTrace.
–°—Ç–∞—Ç—É—Å—ã:
–†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–∏–ø—ã entities/map-point (client/src/entities/map-point/model/types.ts:1) –ø–æ–ª–µ–º status: 'not_found'|'discovered'|'researched', isDiscovered –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ derive (status !== 'not_found') –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å UI (MapPointTooltip, useMarkers).
–ö–≤–µ—Å—Ç—ã:
–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –Ω–∞—á–∏—Å–ª—è—Ç—å —Ñ–ª–∞–≥–∏/–æ—á–∫–∏ –ø—Ä–∏ researched (—á–µ—Ä–µ–∑ markResearched ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ player_state), –º–µ—Ö–∞–Ω–∏–∫–∞ —É–∂–µ –µ—Å—Ç—å –≤ commitScene (client/convex/quests.ts:1), –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω.
–û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

–ì–µ–æ-—Ç–æ—á–Ω–æ—Å—Ç—å –∏ —à—É–º:
–ù—É–∂–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏/HDOP (–ø—Ä–æ–∫—Å–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ coords.accuracy), ‚Äú–ª–∏–ø–∫–æ—Å—Ç—å –∑–æ–Ω—ã‚Äù (–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è ‚â• X —Å–µ–∫—É–Ω–¥).
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å/–±–∞—Ç–∞—Ä–µ—è:
–£–º–µ–Ω—å—à–∞—Ç—å —á–∞—Å—Ç–æ—Ç—É, –∫–æ–º–ø—Ä–µ—Å—Å–∏—è —Ç—Ä–µ–∫–∞, –æ—Ç–ø—Ä–∞–≤–∫–∞ –±–∞—Ç—á–∞–º–∏, –æ—Ç–∫–ª—é—á–∞–µ–º—ã–π —Ä–µ–∂–∏–º ‚Äú–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ‚Äù.
–û–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö:
–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–ª–∏–Ω—É —Å–µ–≥–º–µ–Ω—Ç–∞ –∏ –≥–ª—É–±–∏–Ω—É –∏—Å—Ç–æ—Ä–∏–∏, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —è—á–µ–π–∫–∏/–æ–≥–∏–±–∞—é—â–∏–π bbox.
–û—Ñ—Ñ–ª–∞–π–Ω/–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:
–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, opSeq/de-dup –¥–ª—è outbox, TTL –¥–ª—è serverVisiblePoints.
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
–°–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ–≤–µ—Ä—è–µ—Ç ‚Äú—Å–∞–º–æ–ø–æ–º–µ—Ç–∫–µ discovered‚Äù: –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–∏–∑–æ—Å—Ç–∏ –∫ –ø—É—Ç–∏ –∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∑–æ–Ω—ã.
UX:
–ò–∑–±–µ–∂–∞—Ç—å ‚Äú–∑–∞—Å–≤–µ—Ç–∞‚Äù –≤—Å–µ—Ö —Ç–æ—á–µ–∫ –∑–æ–Ω—ã —Å—Ä–∞–∑—É: –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ—á–∫–∏ ‚Äú–ø–æ –ø—É—Ç–∏ + –±–ª–∏–∂–∞–π—à–∏–µ –≤ –∑–æ–Ω–µ‚Äù (–∏–ª–∏ –ª–∏–º–∏—Ç –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É/–¥–∏—Å—Ç–∞–Ω—Ü–∏–∏).
–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äú–∑–æ–Ω—ã‚Äù

–ì–µ–æ—Ö–µ—à-—è—á–µ–π–∫–∏:
–ü—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π (–∑–æ–Ω–∞ = —Ç–µ–∫—É—â–∞—è —è—á–µ–π–∫–∞ N —Å–∏–º–≤–æ–ª–æ–≤). –û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∞—Ç—á–∏–Ω–≥–∞ –∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–∫–ª—é—á –∑–æ–Ω—ã = geohash).
–ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∫—Ä—É–≥–∏/–ø–æ–ª–∏–≥–æ–Ω—ã:
–¢–æ—á–Ω–∞—è –∞–≤—Ç–æ—Ä—Å–∫–∞—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—è (—Ü–µ–Ω—Ç—Ä—ã/—Ä–∞–¥–∏—É—Å—ã/–ø–æ–ª–∏–≥–æ–Ω—ã). –¢—Ä–µ–±—É–µ—Ç —Ç–∞–±–ª–∏—Ü—ã zones –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –º–Ω–æ–≥–æ—É–≥–æ–ª—å–Ω–∏–∫.
–≠–∫—Ä–∞–Ω–Ω–∞—è –∑–æ–Ω–∞:
–ó–æ–Ω–∞ = —Ç–µ–∫—É—â–∏–π bbox –≤–∏–¥–∏–º–æ–π –∫–∞—Ä—Ç—ã. –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π MVP, –Ω–æ –∑–∞–≤—è–∑–∞–Ω –Ω–∞ UI.
–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω (MVP ‚Üí —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)

–°—Ö–µ–º–∞ Convex:
–î–æ–±–∞–≤–∏—Ç—å point_discoveries.
(–û–ø—Ü.) –î–æ–±–∞–≤–∏—Ç—å zones.
–ë—ç–∫–µ–Ω–¥:
exploration.commitTrace –∏ exploration.markResearched.
–í –æ—Ç–≤–µ—Ç commitTrace –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å visiblePoints + ttlMs –∏ discoveredPoints.
–ö–ª–∏–µ–Ω—Ç: –∑–∞–ø–∏—Å—å —Ç—Ä–µ–∫–∞
features/path-tracking: useRouteRecorder, –∫–æ–º–ø—Ä–µ—Å—Å–∏—è, —Å–º–µ–Ω–∞ –∑–æ–Ω—ã (–≥–µ–æ—Ö–µ—à v1).
–§–ª–∞—à –≤ outbox –ø—Ä–∏ –æ—Ñ—Ñ–ª–∞–π–Ω–µ.
–ö–ª–∏–µ–Ω—Ç: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
shared/api/exploration/convex.ts –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å useGameDataStore.setServerVisiblePoints(...) (client/src/app/ConvexProvider.tsx:1).
poiStatusStore –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤.
UI —Ç–µ–ª–µ—Ñ–æ–Ω–∞
–°–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫ –≤ –∑–æ–Ω–µ/–ø–æ –ø—É—Ç–∏, —Å—Ç–∞—Ç—É—Å—ã, –ø–µ—Ä–µ—Ö–æ–¥ –∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é.
–ù–∞ –∫–∞—Ä—Ç–µ: –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ discovered/researched (client/src/widgets/MapWidget/model/useMarkers.tsx:1).
–†–∞—Å—à–∏—Ä–µ–Ω–∏—è
–ü–æ–ª–∏–≥–æ–Ω–∞–ª—å–Ω—ã–µ –∑–æ–Ω—ã, –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–∏–∑–æ—Å—Ç–∏ –∫ —Ç–æ—á–∫–µ, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏/—Ñ–ª–∞–≥–∞–º–∏.
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–Æ–Ω–∏—Ç: –≥–µ–æ—É—Ç–∏–ª–∏—Ç—ã (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Å–µ–≥–º–µ–Ω—Ç–∞, –∫–æ–º–ø—Ä–µ—Å—Å–∏—è).
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–µ–∫–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ—á–µ–∫ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–≤ ‚Üí –æ—Ç—Ä–∏—Å–æ–≤–∫–∞.
E2E (—Ä—É—á–Ω–æ–µ): —Å–º–µ–Ω–∞ –∑–æ–Ω—ã, –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º —Å outbox, –∫–ª–∏–∫/QR ‚Üí researched.
–ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑ –∫–æ–¥–∞ —Å–µ–π—á–∞—Å

–ö—ç—à –≤–∏–¥–∏–º—ã—Ö —Ç–æ—á–µ–∫: serverVisiblePoints –∏ TTL (client/src/app/ConvexProvider.tsx:1, client/src/widgets/MapWidget/model/useClientVisiblePoints.ts:1).
–û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–æ—á–µ–∫ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è: useMarkers (client/src/widgets/MapWidget/model/useMarkers.tsx:1).
Outbox –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω–∞: client/src/shared/lib/outbox.ts:1.
Convex-–∫–ª–∏–µ–Ω—Ç: client/src/shared/lib/convexClient.ts:1.
–°–∏–¥–∏–Ω–≥/–ø—Ä–∏–≤—è–∑–∫–∏ —Ç–æ—á–µ–∫ –∏ –∫–≤–µ—Å—Ç–æ–≤: client/convex/mapPoints.ts:1.
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏/–ø—Ä–æ–≥—Ä–µ—Å—Å–∞: client/convex/quests.ts:1.
–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã exploration.commitTrace/markResearched –∏ —Å—Ö–µ–º—É point_discoveries –ø–æ–¥ –≤–∞—à —Å—Ç–∏–ª—å Convex? –ú–æ–≥—É —Ä–∞—Å–ø–∏—Å–∞—Ç—å —Ç–æ—á–Ω—ã–µ —Ç–∏–ø—ã –∏ —Å–∫–µ–ª–µ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π.